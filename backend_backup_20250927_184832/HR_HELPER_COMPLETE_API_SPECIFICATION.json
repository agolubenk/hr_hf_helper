{
  "openapi": "3.0.3",
  "info": {
    "title": "HR Helper Complete API",
    "description": "Полная спецификация API системы HR Helper - комплексной платформы для управления HR процессами, включающей управление пользователями, финансами, вакансиями, интервьюерами, AI сервисы и интеграции с внешними системами.",
    "version": "2.0.0",
    "contact": {
      "name": "HR Helper Development Team",
      "email": "support@hrhelper.com",
      "url": "https://hrhelper.com"
    },
    "license": {
      "name": "MIT",
      "url": "https://opensource.org/licenses/MIT"
    }
  },
  "servers": [
    {
      "url": "http://localhost:8000",
      "description": "Development server"
    },
    {
      "url": "https://api.hrhelper.com",
      "description": "Production server"
    }
  ],
  "security": [
    {
      "SessionAuth": []
    },
    {
      "BearerAuth": []
    }
  ],
  "tags": [
    {
      "name": "Authentication",
      "description": "Аутентификация и авторизация пользователей"
    },
    {
      "name": "Users",
      "description": "Управление пользователями и профилями"
    },
    {
      "name": "Finance",
      "description": "Финансовая логика: грейды, зарплаты, налоги, валюты"
    },
    {
      "name": "Vacancies",
      "description": "Управление вакансиями и зарплатными вилками"
    },
    {
      "name": "Interviewers",
      "description": "Управление интервьюерами и календарями"
    },
    {
      "name": "Huntflow",
      "description": "Интеграция с HR системой Huntflow"
    },
    {
      "name": "Gemini",
      "description": "AI сервисы на основе Google Gemini"
    },
    {
      "name": "Google OAuth",
      "description": "Google OAuth интеграция и календарь"
    },
    {
      "name": "ClickUp",
      "description": "Интеграция с ClickUp для управления задачами"
    },
    {
      "name": "Notion",
      "description": "Интеграция с Notion для управления знаниями"
    },
    {
      "name": "Telegram",
      "description": "Telegram интеграция для уведомлений"
    },
    {
      "name": "Common",
      "description": "Общие системные функции и health check"
    }
  ],
  "paths": {
    "/api/health/": {
      "get": {
        "summary": "Health Check",
        "description": "Проверка состояния системы и всех сервисов",
        "tags": ["Common"],
        "security": [],
        "responses": {
          "200": {
            "description": "Система работает корректно",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {"type": "string", "example": "healthy"},
                    "timestamp": {"type": "string", "format": "date-time"},
                    "services": {
                      "type": "object",
                      "properties": {
                        "database": {"type": "string", "example": "healthy"},
                        "redis": {"type": "string", "example": "healthy"},
                        "cache": {"type": "string", "example": "healthy"}
                      }
                    }
                  }
                }
              }
            }
          },
          "503": {
            "description": "Система недоступна",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/login/": {
      "post": {
        "summary": "Вход в систему",
        "description": "Аутентификация пользователя",
        "tags": ["Authentication"],
        "security": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["username", "password"],
                "properties": {
                  "username": {"type": "string", "example": "user@example.com"},
                  "password": {"type": "string", "example": "password123"}
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Успешный вход",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {"type": "boolean", "example": true},
                    "message": {"type": "string", "example": "Вход выполнен успешно"},
                    "user": {"$ref": "#/components/schemas/User"}
                  }
                }
              }
            }
          },
          "401": {
            "description": "Неверные учетные данные",
            "content": {
              "application/json": {
                "schema": {"$ref": "#/components/schemas/ErrorResponse"}
              }
            }
          }
        }
      }
    },
    "/api/auth/logout/": {
      "post": {
        "summary": "Выход из системы",
        "description": "Завершение сессии пользователя",
        "tags": ["Authentication"],
        "responses": {
          "200": {
            "description": "Успешный выход",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {"type": "boolean", "example": true},
                    "message": {"type": "string", "example": "Выход выполнен успешно"}
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/users/": {
      "get": {
        "summary": "Список пользователей",
        "description": "Получение списка всех пользователей системы",
        "tags": ["Users"],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "schema": {"type": "integer", "default": 1}
          },
          {
            "name": "search",
            "in": "query",
            "schema": {"type": "string"}
          }
        ],
        "responses": {
          "200": {
            "description": "Список пользователей",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "count": {"type": "integer"},
                    "next": {"type": "string", "nullable": true},
                    "previous": {"type": "string", "nullable": true},
                    "results": {
                      "type": "array",
                      "items": {"$ref": "#/components/schemas/User"}
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Создание пользователя",
        "description": "Создание нового пользователя в системе",
        "tags": ["Users"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["username", "email", "password"],
                "properties": {
                  "username": {"type": "string"},
                  "email": {"type": "string", "format": "email"},
                  "password": {"type": "string"},
                  "first_name": {"type": "string"},
                  "last_name": {"type": "string"},
                  "is_active": {"type": "boolean", "default": true}
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Пользователь создан",
            "content": {
              "application/json": {
                "schema": {"$ref": "#/components/schemas/User"}
              }
            }
          },
          "400": {
            "description": "Ошибка валидации",
            "content": {
              "application/json": {
                "schema": {"$ref": "#/components/schemas/ErrorResponse"}
              }
            }
          }
        }
      }
    },
    "/api/users/{id}/": {
      "get": {
        "summary": "Детали пользователя",
        "description": "Получение информации о конкретном пользователе",
        "tags": ["Users"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {"type": "integer"}
          }
        ],
        "responses": {
          "200": {
            "description": "Информация о пользователе",
            "content": {
              "application/json": {
                "schema": {"$ref": "#/components/schemas/User"}
              }
            }
          },
          "404": {
            "description": "Пользователь не найден",
            "content": {
              "application/json": {
                "schema": {"$ref": "#/components/schemas/ErrorResponse"}
              }
            }
          }
        }
      },
      "put": {
        "summary": "Обновление пользователя",
        "description": "Полное обновление информации о пользователе",
        "tags": ["Users"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {"type": "integer"}
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {"$ref": "#/components/schemas/User"}
            }
          }
        },
        "responses": {
          "200": {
            "description": "Пользователь обновлен",
            "content": {
              "application/json": {
                "schema": {"$ref": "#/components/schemas/User"}
              }
            }
          }
        }
      },
      "patch": {
        "summary": "Частичное обновление пользователя",
        "description": "Частичное обновление информации о пользователе",
        "tags": ["Users"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {"type": "integer"}
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "first_name": {"type": "string"},
                  "last_name": {"type": "string"},
                  "email": {"type": "string", "format": "email"},
                  "huntflow_api_key": {"type": "string"},
                  "gemini_api_key": {"type": "string"},
                  "clickup_api_key": {"type": "string"},
                  "notion_integration_token": {"type": "string"}
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Пользователь обновлен",
            "content": {
              "application/json": {
                "schema": {"$ref": "#/components/schemas/User"}
              }
            }
          }
        }
      }
    },
    "/api/v1/finance/grades/": {
      "get": {
        "summary": "Список грейдов",
        "description": "Получение списка всех грейдов в системе",
        "tags": ["Finance"],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "schema": {"type": "integer", "default": 1}
          },
          {
            "name": "is_active",
            "in": "query",
            "schema": {"type": "boolean"}
          }
        ],
        "responses": {
          "200": {
            "description": "Список грейдов",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "count": {"type": "integer"},
                    "next": {"type": "string", "nullable": true},
                    "previous": {"type": "string", "nullable": true},
                    "results": {
                      "type": "array",
                      "items": {"$ref": "#/components/schemas/Grade"}
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Создание грейда",
        "description": "Создание нового грейда в системе",
        "tags": ["Finance"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["name"],
                "properties": {
                  "name": {"type": "string"},
                  "description": {"type": "string"},
                  "is_active": {"type": "boolean", "default": true}
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Грейд создан",
            "content": {
              "application/json": {
                "schema": {"$ref": "#/components/schemas/Grade"}
              }
            }
          }
        }
      }
    },
    "/api/v1/finance/grades/{id}/": {
      "get": {
        "summary": "Детали грейда",
        "description": "Получение информации о конкретном грейде",
        "tags": ["Finance"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {"type": "integer"}
          }
        ],
        "responses": {
          "200": {
            "description": "Информация о грейде",
            "content": {
              "application/json": {
                "schema": {"$ref": "#/components/schemas/Grade"}
              }
            }
          }
        }
      },
      "put": {
        "summary": "Обновление грейда",
        "description": "Полное обновление информации о грейде",
        "tags": ["Finance"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {"type": "integer"}
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {"$ref": "#/components/schemas/Grade"}
            }
          }
        },
        "responses": {
          "200": {
            "description": "Грейд обновлен",
            "content": {
              "application/json": {
                "schema": {"$ref": "#/components/schemas/Grade"}
              }
            }
          }
        }
      },
      "delete": {
        "summary": "Удаление грейда",
        "description": "Удаление грейда из системы",
        "tags": ["Finance"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {"type": "integer"}
          }
        ],
        "responses": {
          "204": {
            "description": "Грейд удален"
          }
        }
      }
    },
    "/api/v1/finance/currency-rates/": {
      "get": {
        "summary": "Список валютных курсов",
        "description": "Получение актуальных валютных курсов",
        "tags": ["Finance"],
        "parameters": [
          {
            "name": "currency",
            "in": "query",
            "schema": {"type": "string"}
          },
          {
            "name": "is_active",
            "in": "query",
            "schema": {"type": "boolean"}
          }
        ],
        "responses": {
          "200": {
            "description": "Список валютных курсов",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {"$ref": "#/components/schemas/CurrencyRate"}
                }
              }
            }
          }
        }
      }
    },
    "/api/vacancies/": {
      "get": {
        "summary": "Список вакансий",
        "description": "Получение списка вакансий с фильтрацией и пагинацией",
        "tags": ["Vacancies"],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "schema": {"type": "integer", "default": 1}
          },
          {
            "name": "page_size",
            "in": "query",
            "schema": {"type": "integer", "default": 20}
          },
          {
            "name": "search",
            "in": "query",
            "schema": {"type": "string"}
          },
          {
            "name": "recruiter",
            "in": "query",
            "schema": {"type": "integer"}
          },
          {
            "name": "is_active",
            "in": "query",
            "schema": {"type": "boolean"}
          }
        ],
        "responses": {
          "200": {
            "description": "Список вакансий",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "count": {"type": "integer"},
                    "next": {"type": "string", "nullable": true},
                    "previous": {"type": "string", "nullable": true},
                    "results": {
                      "type": "array",
                      "items": {"$ref": "#/components/schemas/Vacancy"}
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Создание вакансии",
        "description": "Создание новой вакансии",
        "tags": ["Vacancies"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["name", "external_id", "recruiter"],
                "properties": {
                  "name": {"type": "string"},
                  "external_id": {"type": "string"},
                  "recruiter": {"type": "integer"},
                  "invite_title": {"type": "string"},
                  "invite_text": {"type": "string"},
                  "scorecard_title": {"type": "string"},
                  "scorecard_text": {"type": "string"},
                  "available_grades": {
                    "type": "array",
                    "items": {"type": "integer"}
                  },
                  "is_active": {"type": "boolean", "default": true}
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Вакансия создана",
            "content": {
              "application/json": {
                "schema": {"$ref": "#/components/schemas/Vacancy"}
              }
            }
          }
        }
      }
    },
    "/api/vacancies/{id}/": {
      "get": {
        "summary": "Детали вакансии",
        "description": "Получение информации о конкретной вакансии",
        "tags": ["Vacancies"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {"type": "integer"}
          }
        ],
        "responses": {
          "200": {
            "description": "Информация о вакансии",
            "content": {
              "application/json": {
                "schema": {"$ref": "#/components/schemas/Vacancy"}
              }
            }
          }
        }
      },
      "put": {
        "summary": "Обновление вакансии",
        "description": "Полное обновление информации о вакансии",
        "tags": ["Vacancies"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {"type": "integer"}
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {"$ref": "#/components/schemas/Vacancy"}
            }
          }
        },
        "responses": {
          "200": {
            "description": "Вакансия обновлена",
            "content": {
              "application/json": {
                "schema": {"$ref": "#/components/schemas/Vacancy"}
              }
            }
          }
        }
      },
      "delete": {
        "summary": "Удаление вакансии",
        "description": "Удаление вакансии из системы",
        "tags": ["Vacancies"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {"type": "integer"}
          }
        ],
        "responses": {
          "204": {
            "description": "Вакансия удалена"
          }
        }
      }
    },
    "/api/vacancies/{id}/toggle-active/": {
      "post": {
        "summary": "Переключение активности вакансии",
        "description": "Активация или деактивация вакансии",
        "tags": ["Vacancies"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {"type": "integer"}
          }
        ],
        "responses": {
          "200": {
            "description": "Статус вакансии изменен",
            "content": {
              "application/json": {
                "schema": {"$ref": "#/components/schemas/Vacancy"}
              }
            }
          }
        }
      }
    },
    "/api/vacancies/{id}/assign-grades/": {
      "post": {
        "summary": "Назначение грейдов вакансии",
        "description": "Назначение грейдов для вакансии",
        "tags": ["Vacancies"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {"type": "integer"}
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "grade_ids": {
                    "type": "array",
                    "items": {"type": "integer"}
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Грейды назначены",
            "content": {
              "application/json": {
                "schema": {"$ref": "#/components/schemas/Vacancy"}
              }
            }
          }
        }
      }
    },
    "/api/vacancies/stats/": {
      "get": {
        "summary": "Статистика вакансий",
        "description": "Получение статистики по вакансиям",
        "tags": ["Vacancies"],
        "responses": {
          "200": {
            "description": "Статистика вакансий",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "total_vacancies": {"type": "integer"},
                    "active_vacancies": {"type": "integer"},
                    "inactive_vacancies": {"type": "integer"},
                    "vacancies_by_recruiter": {"type": "object"},
                    "vacancies_by_grade": {"type": "object"},
                    "recent_vacancies": {
                      "type": "array",
                      "items": {"$ref": "#/components/schemas/Vacancy"}
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/interviewers/": {
      "get": {
        "summary": "Список интервьюеров",
        "description": "Получение списка интервьюеров с фильтрацией",
        "tags": ["Interviewers"],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "schema": {"type": "integer", "default": 1}
          },
          {
            "name": "search",
            "in": "query",
            "schema": {"type": "string"}
          },
          {
            "name": "is_active",
            "in": "query",
            "schema": {"type": "boolean"}
          }
        ],
        "responses": {
          "200": {
            "description": "Список интервьюеров",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "count": {"type": "integer"},
                    "next": {"type": "string", "nullable": true},
                    "previous": {"type": "string", "nullable": true},
                    "results": {
                      "type": "array",
                      "items": {"$ref": "#/components/schemas/Interviewer"}
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Создание интервьюера",
        "description": "Создание нового интервьюера",
        "tags": ["Interviewers"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["user", "specialization"],
                "properties": {
                  "user": {"type": "integer"},
                  "specialization": {"type": "string"},
                  "experience_years": {"type": "integer"},
                  "is_active": {"type": "boolean", "default": true}
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Интервьюер создан",
            "content": {
              "application/json": {
                "schema": {"$ref": "#/components/schemas/Interviewer"}
              }
            }
          }
        }
      }
    },
    "/api/interviewers/{id}/": {
      "get": {
        "summary": "Детали интервьюера",
        "description": "Получение информации о конкретном интервьюере",
        "tags": ["Interviewers"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {"type": "integer"}
          }
        ],
        "responses": {
          "200": {
            "description": "Информация об интервьюере",
            "content": {
              "application/json": {
                "schema": {"$ref": "#/components/schemas/Interviewer"}
              }
            }
          }
        }
      }
    },
    "/api/huntflow/test-connection/": {
      "post": {
        "summary": "Тест соединения с Huntflow",
        "description": "Проверка подключения к Huntflow API",
        "tags": ["Huntflow"],
        "responses": {
          "200": {
            "description": "Результат тестирования соединения",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {"type": "boolean"},
                    "message": {"type": "string"},
                    "accounts": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {"type": "integer"},
                          "name": {"type": "string"}
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/huntflow/accounts/": {
      "get": {
        "summary": "Список организаций Huntflow",
        "description": "Получение списка организаций из Huntflow",
        "tags": ["Huntflow"],
        "responses": {
          "200": {
            "description": "Список организаций",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "items": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {"type": "integer"},
                          "name": {"type": "string"},
                          "type": {"type": "string"}
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/huntflow/accounts/{account_id}/vacancies/": {
      "get": {
        "summary": "Вакансии организации",
        "description": "Получение вакансий конкретной организации из Huntflow",
        "tags": ["Huntflow"],
        "parameters": [
          {
            "name": "account_id",
            "in": "path",
            "required": true,
            "schema": {"type": "integer"}
          }
        ],
        "responses": {
          "200": {
            "description": "Список вакансий организации",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "items": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {"type": "integer"},
                          "position": {"type": "string"},
                          "state": {"type": "string"}
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/gemini/chat/": {
      "post": {
        "summary": "AI чат с Gemini",
        "description": "Отправка сообщения в AI чат Gemini",
        "tags": ["Gemini"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["message"],
                "properties": {
                  "message": {"type": "string"},
                  "session_id": {"type": "integer"}
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Ответ от AI",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {"type": "boolean"},
                    "response": {"type": "string"},
                    "session_id": {"type": "integer"}
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/gemini/sessions/": {
      "get": {
        "summary": "Список сессий чата",
        "description": "Получение списка сессий AI чата",
        "tags": ["Gemini"],
        "responses": {
          "200": {
            "description": "Список сессий",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {"type": "integer"},
                      "created_at": {"type": "string", "format": "date-time"},
                      "message_count": {"type": "integer"}
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/google-oauth/calendar/": {
      "get": {
        "summary": "События календаря Google",
        "description": "Получение событий из Google Calendar",
        "tags": ["Google OAuth"],
        "parameters": [
          {
            "name": "start_date",
            "in": "query",
            "schema": {"type": "string", "format": "date"}
          },
          {
            "name": "end_date",
            "in": "query",
            "schema": {"type": "string", "format": "date"}
          }
        ],
        "responses": {
          "200": {
            "description": "Список событий календаря",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {"$ref": "#/components/schemas/CalendarEvent"}
                }
              }
            }
          }
        }
      }
    },
    "/api/google-oauth/sync/": {
      "post": {
        "summary": "Синхронизация с Google",
        "description": "Запуск синхронизации данных с Google сервисами",
        "tags": ["Google OAuth"],
        "responses": {
          "200": {
            "description": "Синхронизация запущена",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {"type": "boolean"},
                    "message": {"type": "string"}
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/clickup/tasks/": {
      "get": {
        "summary": "Список задач ClickUp",
        "description": "Получение списка задач из ClickUp",
        "tags": ["ClickUp"],
        "responses": {
          "200": {
            "description": "Список задач",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {"$ref": "#/components/schemas/ClickUpTask"}
                }
              }
            }
          }
        }
      }
    },
    "/api/clickup/sync/": {
      "post": {
        "summary": "Синхронизация с ClickUp",
        "description": "Запуск синхронизации задач с ClickUp",
        "tags": ["ClickUp"],
        "responses": {
          "200": {
            "description": "Синхронизация запущена",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {"type": "boolean"},
                    "message": {"type": "string"}
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/notion/pages/": {
      "get": {
        "summary": "Список страниц Notion",
        "description": "Получение списка страниц из Notion",
        "tags": ["Notion"],
        "responses": {
          "200": {
            "description": "Список страниц",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {"$ref": "#/components/schemas/NotionPage"}
                }
              }
            }
          }
        }
      }
    },
    "/api/notion/sync/": {
      "post": {
        "summary": "Синхронизация с Notion",
        "description": "Запуск синхронизации данных с Notion",
        "tags": ["Notion"],
        "responses": {
          "200": {
            "description": "Синхронизация запущена",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {"type": "boolean"},
                    "message": {"type": "string"}
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/telegram/send/": {
      "post": {
        "summary": "Отправка сообщения в Telegram",
        "description": "Отправка уведомления через Telegram",
        "tags": ["Telegram"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["message"],
                "properties": {
                  "message": {"type": "string"},
                  "chat_id": {"type": "string"}
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Сообщение отправлено",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {"type": "boolean"},
                    "message": {"type": "string"}
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/clickup-int/settings/": {
      "get": {
        "summary": "Настройки ClickUp",
        "description": "Получение настроек интеграции ClickUp для пользователя",
        "tags": ["ClickUp"],
        "responses": {
          "200": {
            "description": "Настройки ClickUp",
            "content": {
              "application/json": {
                "schema": {"$ref": "#/components/schemas/ClickUpSettings"}
              }
            }
          }
        }
      },
      "post": {
        "summary": "Обновление настроек ClickUp",
        "description": "Обновление настроек интеграции ClickUp",
        "tags": ["ClickUp"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {"$ref": "#/components/schemas/ClickUpSettingsUpdate"}
            }
          }
        },
        "responses": {
          "200": {
            "description": "Настройки обновлены",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {"type": "boolean"},
                    "message": {"type": "string"}
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/clickup-int/settings/test-connection/": {
      "post": {
        "summary": "Тест соединения ClickUp",
        "description": "Проверка подключения к ClickUp API",
        "tags": ["ClickUp"],
        "responses": {
          "200": {
            "description": "Результат тестирования",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {"type": "boolean"},
                    "message": {"type": "string"},
                    "user_info": {"type": "object"}
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/clickup-int/path-options/": {
      "get": {
        "summary": "Опции пути ClickUp",
        "description": "Получение доступных команд для настройки пути",
        "tags": ["ClickUp"],
        "responses": {
          "200": {
            "description": "Доступные команды",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {"type": "boolean"},
                    "teams": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {"type": "string"},
                          "name": {"type": "string"}
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/clickup-int/spaces/": {
      "get": {
        "summary": "Пространства команды ClickUp",
        "description": "Получение пространств для конкретной команды",
        "tags": ["ClickUp"],
        "parameters": [
          {
            "name": "team_id",
            "in": "query",
            "required": true,
            "schema": {"type": "string"}
          }
        ],
        "responses": {
          "200": {
            "description": "Список пространств",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {"type": "boolean"},
                    "spaces": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {"type": "string"},
                          "name": {"type": "string"}
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/clickup-int/folders/": {
      "get": {
        "summary": "Папки пространства ClickUp",
        "description": "Получение папок для конкретного пространства",
        "tags": ["ClickUp"],
        "parameters": [
          {
            "name": "space_id",
            "in": "query",
            "required": true,
            "schema": {"type": "string"}
          }
        ],
        "responses": {
          "200": {
            "description": "Список папок",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {"type": "boolean"},
                    "folders": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {"type": "string"},
                          "name": {"type": "string"}
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/clickup-int/lists/": {
      "get": {
        "summary": "Списки задач ClickUp",
        "description": "Получение списков задач для папки или пространства",
        "tags": ["ClickUp"],
        "parameters": [
          {
            "name": "folder_id",
            "in": "query",
            "schema": {"type": "string"}
          },
          {
            "name": "space_id",
            "in": "query",
            "schema": {"type": "string"}
          }
        ],
        "responses": {
          "200": {
            "description": "Список задач",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {"type": "boolean"},
                    "lists": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {"type": "string"},
                          "name": {"type": "string"}
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/clickup-int/tasks/": {
      "get": {
        "summary": "Список задач ClickUp",
        "description": "Получение кэшированных задач ClickUp с фильтрацией",
        "tags": ["ClickUp"],
        "parameters": [
          {
            "name": "search",
            "in": "query",
            "schema": {"type": "string"}
          },
          {
            "name": "status",
            "in": "query",
            "schema": {"type": "string"}
          },
          {
            "name": "priority",
            "in": "query",
            "schema": {"type": "string"}
          },
          {
            "name": "sort",
            "in": "query",
            "schema": {"type": "string", "default": "-date_updated"}
          },
          {
            "name": "page",
            "in": "query",
            "schema": {"type": "integer", "default": 1}
          }
        ],
        "responses": {
          "200": {
            "description": "Список задач",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "results": {
                      "type": "array",
                      "items": {"$ref": "#/components/schemas/ClickUpTask"}
                    },
                    "count": {"type": "integer"},
                    "next": {"type": "string", "nullable": true},
                    "previous": {"type": "string", "nullable": true}
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/clickup-int/tasks/{task_id}/": {
      "get": {
        "summary": "Детали задачи ClickUp",
        "description": "Получение детальной информации о задаче ClickUp",
        "tags": ["ClickUp"],
        "parameters": [
          {
            "name": "task_id",
            "in": "path",
            "required": true,
            "schema": {"type": "string"}
          }
        ],
        "responses": {
          "200": {
            "description": "Детали задачи",
            "content": {
              "application/json": {
                "schema": {"$ref": "#/components/schemas/ClickUpTaskDetail"}
              }
            }
          }
        }
      }
    },
    "/api/v1/clickup-int/tasks/{task_id}/transfer-to-huntflow/": {
      "post": {
        "summary": "Перенос задачи ClickUp в Huntflow",
        "description": "Перенос данных задачи ClickUp в Huntflow как кандидата",
        "tags": ["ClickUp"],
        "parameters": [
          {
            "name": "task_id",
            "in": "path",
            "required": true,
            "schema": {"type": "string"}
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {"$ref": "#/components/schemas/ClickUpTransferRequest"}
            }
          }
        },
        "responses": {
          "200": {
            "description": "Перенос выполнен",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {"type": "boolean"},
                    "message": {"type": "string"},
                    "applicant_id": {"type": "string"}
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/clickup-int/sync-tasks/": {
      "post": {
        "summary": "Синхронизация задач ClickUp",
        "description": "Запуск синхронизации задач из настроенного списка",
        "tags": ["ClickUp"],
        "responses": {
          "200": {
            "description": "Синхронизация завершена",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {"type": "boolean"},
                    "message": {"type": "string"},
                    "tasks_processed": {"type": "integer"},
                    "tasks_created": {"type": "integer"},
                    "tasks_updated": {"type": "integer"}
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/clickup-int/clear-cache/": {
      "post": {
        "summary": "Очистка кэша ClickUp",
        "description": "Очистка всех кэшированных задач ClickUp для пользователя",
        "tags": ["ClickUp"],
        "responses": {
          "200": {
            "description": "Кэш очищен",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {"type": "boolean"},
                    "message": {"type": "string"}
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/clickup-int/bulk-import/": {
      "get": {
        "summary": "Список массовых импортов",
        "description": "Получение списка операций массового импорта",
        "tags": ["ClickUp"],
        "parameters": [
          {
            "name": "status",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": ["running", "completed", "failed", "cancelled", "stopped"]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Список импортов",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {"$ref": "#/components/schemas/ClickUpBulkImport"}
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Запуск массового импорта",
        "description": "Запуск операции массового импорта задач ClickUp",
        "tags": ["ClickUp"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {"$ref": "#/components/schemas/ClickUpBulkImportRequest"}
            }
          }
        },
        "responses": {
          "201": {
            "description": "Импорт запущен",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {"type": "boolean"},
                    "import_id": {"type": "integer"},
                    "message": {"type": "string"}
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/clickup-int/bulk-import/{id}/": {
      "get": {
        "summary": "Детали массового импорта",
        "description": "Получение деталей операции массового импорта",
        "tags": ["ClickUp"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {"type": "integer"}
          }
        ],
        "responses": {
          "200": {
            "description": "Детали импорта",
            "content": {
              "application/json": {
                "schema": {"$ref": "#/components/schemas/ClickUpBulkImport"}
              }
            }
          }
        }
      },
      "post": {
        "summary": "Остановка массового импорта",
        "description": "Остановка выполняющегося массового импорта",
        "tags": ["ClickUp"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {"type": "integer"}
          }
        ],
        "responses": {
          "200": {
            "description": "Импорт остановлен",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {"type": "boolean"},
                    "message": {"type": "string"}
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/clickup-int/bulk-import/{id}/progress/": {
      "get": {
        "summary": "Прогресс массового импорта",
        "description": "Получение прогресса операции массового импорта",
        "tags": ["ClickUp"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {"type": "integer"}
          }
        ],
        "responses": {
          "200": {
            "description": "Прогресс импорта",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {"type": "boolean"},
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {"type": "integer"},
                        "status": {"type": "string"},
                        "total_tasks": {"type": "integer"},
                        "processed_tasks": {"type": "integer"},
                        "successful_tasks": {"type": "integer"},
                        "failed_tasks": {"type": "integer"},
                        "progress_percentage": {"type": "number"},
                        "success_rate": {"type": "number"},
                        "failed_task_ids": {
                          "type": "array",
                          "items": {"type": "string"}
                        },
                        "error_message": {"type": "string"},
                        "created_at": {"type": "string", "format": "date-time"},
                        "updated_at": {"type": "string", "format": "date-time"},
                        "completed_at": {"type": "string", "format": "date-time", "nullable": true}
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/clickup-int/bulk-import/{id}/retry-failed/": {
      "post": {
        "summary": "Повтор неудачных задач",
        "description": "Повторный импорт неудачных задач из массового импорта",
        "tags": ["ClickUp"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {"type": "integer"}
          }
        ],
        "responses": {
          "200": {
            "description": "Повтор запущен",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {"type": "boolean"},
                    "message": {"type": "string"}
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/clickup-int/sync-logs/": {
      "get": {
        "summary": "Логи синхронизации ClickUp",
        "description": "Получение списка логов синхронизации с пагинацией",
        "tags": ["ClickUp"],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "schema": {"type": "integer", "default": 1}
          }
        ],
        "responses": {
          "200": {
            "description": "Логи синхронизации",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "results": {
                      "type": "array",
                      "items": {"$ref": "#/components/schemas/ClickUpSyncLog"}
                    },
                    "count": {"type": "integer"},
                    "next": {"type": "string", "nullable": true},
                    "previous": {"type": "string", "nullable": true}
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/google-oauth/oauth-accounts/": {
      "get": {
        "summary": "Список Google OAuth аккаунтов",
        "description": "Получение списка Google OAuth аккаунтов с фильтрацией",
        "tags": ["Google OAuth"],
        "parameters": [
          {
            "name": "user",
            "in": "query",
            "schema": {"type": "integer"}
          },
          {
            "name": "email",
            "in": "query",
            "schema": {"type": "string"}
          },
          {
            "name": "is_active",
            "in": "query",
            "schema": {"type": "boolean"}
          }
        ],
        "responses": {
          "200": {
            "description": "Список аккаунтов",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "count": {"type": "integer"},
                    "next": {"type": "string", "nullable": true},
                    "previous": {"type": "string", "nullable": true},
                    "results": {
                      "type": "array",
                      "items": {"$ref": "#/components/schemas/GoogleOAuthAccount"}
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/google-oauth/oauth-accounts/{id}/": {
      "get": {
        "summary": "Детали Google OAuth аккаунта",
        "description": "Получение информации о Google OAuth аккаунте",
        "tags": ["Google OAuth"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {"type": "integer"}
          }
        ],
        "responses": {
          "200": {
            "description": "Детали аккаунта",
            "content": {
              "application/json": {
                "schema": {"$ref": "#/components/schemas/GoogleOAuthAccount"}
              }
            }
          }
        }
      }
    },
    "/api/v1/google-oauth/calendar-events/": {
      "get": {
        "summary": "События Google Calendar",
        "description": "Получение событий Google Calendar с фильтрацией",
        "tags": ["Google OAuth"],
        "parameters": [
          {
            "name": "oauth_account",
            "in": "query",
            "schema": {"type": "integer"}
          },
          {
            "name": "start_date",
            "in": "query",
            "schema": {"type": "string", "format": "date"}
          },
          {
            "name": "end_date",
            "in": "query",
            "schema": {"type": "string", "format": "date"}
          },
          {
            "name": "search",
            "in": "query",
            "schema": {"type": "string"}
          }
        ],
        "responses": {
          "200": {
            "description": "Список событий",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "count": {"type": "integer"},
                    "next": {"type": "string", "nullable": true},
                    "previous": {"type": "string", "nullable": true},
                    "results": {
                      "type": "array",
                      "items": {"$ref": "#/components/schemas/GoogleCalendarEvent"}
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/google-oauth/calendar-events/{id}/": {
      "get": {
        "summary": "Детали события Google Calendar",
        "description": "Получение детальной информации о событии",
        "tags": ["Google OAuth"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {"type": "integer"}
          }
        ],
        "responses": {
          "200": {
            "description": "Детали события",
            "content": {
              "application/json": {
                "schema": {"$ref": "#/components/schemas/GoogleCalendarEvent"}
              }
            }
          }
        }
      }
    },
    "/api/v1/google-oauth/drive-files/": {
      "get": {
        "summary": "Файлы Google Drive",
        "description": "Получение файлов Google Drive с фильтрацией",
        "tags": ["Google OAuth"],
        "parameters": [
          {
            "name": "oauth_account",
            "in": "query",
            "schema": {"type": "integer"}
          },
          {
            "name": "search",
            "in": "query",
            "schema": {"type": "string"}
          },
          {
            "name": "mime_type",
            "in": "query",
            "schema": {"type": "string"}
          }
        ],
        "responses": {
          "200": {
            "description": "Список файлов",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "count": {"type": "integer"},
                    "next": {"type": "string", "nullable": true},
                    "previous": {"type": "string", "nullable": true},
                    "results": {
                      "type": "array",
                      "items": {"$ref": "#/components/schemas/GoogleDriveFile"}
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/google-oauth/drive-files/{id}/": {
      "get": {
        "summary": "Детали файла Google Drive",
        "description": "Получение детальной информации о файле",
        "tags": ["Google OAuth"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {"type": "integer"}
          }
        ],
        "responses": {
          "200": {
            "description": "Детали файла",
            "content": {
              "application/json": {
                "schema": {"$ref": "#/components/schemas/GoogleDriveFile"}
              }
            }
          }
        }
      }
    },
    "/api/v1/google-oauth/sync/": {
      "post": {
        "summary": "Синхронизация Google сервисов",
        "description": "Запуск синхронизации данных с Google сервисами",
        "tags": ["Google OAuth"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "sync_calendar": {"type": "boolean", "default": true},
                  "sync_drive": {"type": "boolean", "default": false},
                  "oauth_account_id": {"type": "integer"}
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Синхронизация запущена",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {"type": "boolean"},
                    "message": {"type": "string"},
                    "tasks_created": {"type": "integer"}
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/telegram/chats/": {
      "get": {
        "summary": "Список Telegram чатов",
        "description": "Получение списка Telegram чатов с фильтрацией",
        "tags": ["Telegram"],
        "parameters": [
          {
            "name": "search",
            "in": "query",
            "schema": {"type": "string"}
          },
          {
            "name": "chat_type",
            "in": "query",
            "schema": {"type": "string"}
          },
          {
            "name": "is_active",
            "in": "query",
            "schema": {"type": "boolean"}
          }
        ],
        "responses": {
          "200": {
            "description": "Список чатов",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "count": {"type": "integer"},
                    "next": {"type": "string", "nullable": true},
                    "previous": {"type": "string", "nullable": true},
                    "results": {
                      "type": "array",
                      "items": {"$ref": "#/components/schemas/TelegramChat"}
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/telegram/chats/{id}/": {
      "get": {
        "summary": "Детали Telegram чата",
        "description": "Получение информации о Telegram чате",
        "tags": ["Telegram"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {"type": "integer"}
          }
        ],
        "responses": {
          "200": {
            "description": "Детали чата",
            "content": {
              "application/json": {
                "schema": {"$ref": "#/components/schemas/TelegramChat"}
              }
            }
          }
        }
      }
    },
    "/api/v1/telegram/messages/": {
      "get": {
        "summary": "Список сообщений Telegram",
        "description": "Получение списка сообщений Telegram с фильтрацией",
        "tags": ["Telegram"],
        "parameters": [
          {
            "name": "chat",
            "in": "query",
            "schema": {"type": "integer"}
          },
          {
            "name": "search",
            "in": "query",
            "schema": {"type": "string"}
          },
          {
            "name": "message_type",
            "in": "query",
            "schema": {"type": "string"}
          },
          {
            "name": "date_from",
            "in": "query",
            "schema": {"type": "string", "format": "date"}
          },
          {
            "name": "date_to",
            "in": "query",
            "schema": {"type": "string", "format": "date"}
          }
        ],
        "responses": {
          "200": {
            "description": "Список сообщений",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "count": {"type": "integer"},
                    "next": {"type": "string", "nullable": true},
                    "previous": {"type": "string", "nullable": true},
                    "results": {
                      "type": "array",
                      "items": {"$ref": "#/components/schemas/TelegramMessage"}
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/telegram/messages/{id}/": {
      "get": {
        "summary": "Детали сообщения Telegram",
        "description": "Получение детальной информации о сообщении",
        "tags": ["Telegram"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {"type": "integer"}
          }
        ],
        "responses": {
          "200": {
            "description": "Детали сообщения",
            "content": {
              "application/json": {
                "schema": {"$ref": "#/components/schemas/TelegramMessage"}
              }
            }
          }
        }
      }
    },
    "/api/v1/telegram/send-message/": {
      "post": {
        "summary": "Отправка сообщения в Telegram",
        "description": "Отправка сообщения в Telegram чат",
        "tags": ["Telegram"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["chat_id", "message"],
                "properties": {
                  "chat_id": {"type": "string"},
                  "message": {"type": "string"},
                  "parse_mode": {"type": "string", "enum": ["HTML", "Markdown"]},
                  "reply_to_message_id": {"type": "integer"}
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Сообщение отправлено",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {"type": "boolean"},
                    "message": {"type": "string"},
                    "message_id": {"type": "integer"}
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/telegram/sync/": {
      "post": {
        "summary": "Синхронизация Telegram",
        "description": "Запуск синхронизации данных с Telegram",
        "tags": ["Telegram"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "sync_chats": {"type": "boolean", "default": true},
                  "sync_messages": {"type": "boolean", "default": true},
                  "days_back": {"type": "integer", "default": 7}
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Синхронизация запущена",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {"type": "boolean"},
                    "message": {"type": "string"},
                    "tasks_created": {"type": "integer"}
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/notion-int/settings/": {
      "get": {
        "summary": "Настройки Notion",
        "description": "Получение настроек интеграции Notion для пользователя",
        "tags": ["Notion"],
        "responses": {
          "200": {
            "description": "Настройки Notion",
            "content": {
              "application/json": {
                "schema": {"$ref": "#/components/schemas/NotionSettings"}
              }
            }
          }
        }
      },
      "post": {
        "summary": "Обновление настроек Notion",
        "description": "Обновление настроек интеграции Notion",
        "tags": ["Notion"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {"$ref": "#/components/schemas/NotionSettingsUpdate"}
            }
          }
        },
        "responses": {
          "200": {
            "description": "Настройки обновлены",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {"type": "boolean"},
                    "message": {"type": "string"}
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/notion-int/settings/test-connection/": {
      "post": {
        "summary": "Тест соединения Notion",
        "description": "Проверка подключения к Notion API",
        "tags": ["Notion"],
        "responses": {
          "200": {
            "description": "Результат тестирования",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {"type": "boolean"},
                    "message": {"type": "string"},
                    "user_info": {"type": "object"}
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/notion-int/pages/": {
      "get": {
        "summary": "Список страниц Notion",
        "description": "Получение кэшированных страниц Notion с фильтрацией",
        "tags": ["Notion"],
        "parameters": [
          {
            "name": "search",
            "in": "query",
            "schema": {"type": "string"}
          },
          {
            "name": "parent_id",
            "in": "query",
            "schema": {"type": "string"}
          },
          {
            "name": "sort",
            "in": "query",
            "schema": {"type": "string", "default": "-last_edited_time"}
          },
          {
            "name": "page",
            "in": "query",
            "schema": {"type": "integer", "default": 1}
          }
        ],
        "responses": {
          "200": {
            "description": "Список страниц",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "results": {
                      "type": "array",
                      "items": {"$ref": "#/components/schemas/NotionPage"}
                    },
                    "count": {"type": "integer"},
                    "next": {"type": "string", "nullable": true},
                    "previous": {"type": "string", "nullable": true}
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/notion-int/pages/{id}/": {
      "get": {
        "summary": "Детали страницы Notion",
        "description": "Получение детальной информации о странице Notion",
        "tags": ["Notion"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {"type": "integer"}
          }
        ],
        "responses": {
          "200": {
            "description": "Детали страницы",
            "content": {
              "application/json": {
                "schema": {"$ref": "#/components/schemas/NotionPageDetail"}
              }
            }
          }
        }
      }
    },
    "/api/v1/notion-int/pages/{id}/transfer-to-huntflow/": {
      "post": {
        "summary": "Перенос страницы Notion в Huntflow",
        "description": "Перенос данных страницы Notion в Huntflow как кандидата",
        "tags": ["Notion"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {"type": "integer"}
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {"$ref": "#/components/schemas/NotionTransferRequest"}
            }
          }
        },
        "responses": {
          "200": {
            "description": "Перенос выполнен",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {"type": "boolean"},
                    "message": {"type": "string"},
                    "applicant_id": {"type": "string"}
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/notion-int/sync-pages/": {
      "post": {
        "summary": "Синхронизация страниц Notion",
        "description": "Запуск синхронизации страниц из настроенной базы данных",
        "tags": ["Notion"],
        "responses": {
          "200": {
            "description": "Синхронизация завершена",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {"type": "boolean"},
                    "message": {"type": "string"},
                    "pages_processed": {"type": "integer"},
                    "pages_created": {"type": "integer"},
                    "pages_updated": {"type": "integer"}
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/notion-int/clear-cache/": {
      "post": {
        "summary": "Очистка кэша Notion",
        "description": "Очистка всех кэшированных страниц Notion для пользователя",
        "tags": ["Notion"],
        "responses": {
          "200": {
            "description": "Кэш очищен",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {"type": "boolean"},
                    "message": {"type": "string"}
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/notion-int/bulk-import/": {
      "get": {
        "summary": "Список массовых импортов Notion",
        "description": "Получение списка операций массового импорта страниц",
        "tags": ["Notion"],
        "parameters": [
          {
            "name": "status",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": ["running", "completed", "failed", "cancelled", "stopped"]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Список импортов",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {"$ref": "#/components/schemas/NotionBulkImport"}
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Запуск массового импорта Notion",
        "description": "Запуск операции массового импорта страниц Notion",
        "tags": ["Notion"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {"$ref": "#/components/schemas/NotionBulkImportRequest"}
            }
          }
        },
        "responses": {
          "201": {
            "description": "Импорт запущен",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {"type": "boolean"},
                    "import_id": {"type": "integer"},
                    "message": {"type": "string"}
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/notion-int/sync-logs/": {
      "get": {
        "summary": "Логи синхронизации Notion",
        "description": "Получение списка логов синхронизации с пагинацией",
        "tags": ["Notion"],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "schema": {"type": "integer", "default": 1}
          }
        ],
        "responses": {
          "200": {
            "description": "Логи синхронизации",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "results": {
                      "type": "array",
                      "items": {"$ref": "#/components/schemas/NotionSyncLog"}
                    },
                    "count": {"type": "integer"},
                    "next": {"type": "string", "nullable": true},
                    "previous": {"type": "string", "nullable": true}
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "User": {
        "type": "object",
        "properties": {
          "id": {"type": "integer"},
          "username": {"type": "string"},
          "email": {"type": "string", "format": "email"},
          "first_name": {"type": "string"},
          "last_name": {"type": "string"},
          "is_active": {"type": "boolean"},
          "date_joined": {"type": "string", "format": "date-time"},
          "last_login": {"type": "string", "format": "date-time"},
          "huntflow_api_key": {"type": "string"},
          "gemini_api_key": {"type": "string"},
          "clickup_api_key": {"type": "string"},
          "notion_integration_token": {"type": "string"},
          "groups": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": {"type": "integer"},
                "name": {"type": "string"}
              }
            }
          }
        }
      },
      "Grade": {
        "type": "object",
        "properties": {
          "id": {"type": "integer"},
          "name": {"type": "string"},
          "description": {"type": "string"},
          "is_active": {"type": "boolean"},
          "created_at": {"type": "string", "format": "date-time"},
          "updated_at": {"type": "string", "format": "date-time"}
        }
      },
      "CurrencyRate": {
        "type": "object",
        "properties": {
          "id": {"type": "integer"},
          "currency": {"type": "string"},
          "rate": {"type": "number", "format": "decimal"},
          "date": {"type": "string", "format": "date"},
          "is_active": {"type": "boolean"},
          "created_at": {"type": "string", "format": "date-time"}
        }
      },
      "Vacancy": {
        "type": "object",
        "properties": {
          "id": {"type": "integer"},
          "name": {"type": "string"},
          "external_id": {"type": "string"},
          "recruiter": {"type": "integer"},
          "recruiter_name": {"type": "string"},
          "invite_title": {"type": "string"},
          "invite_text": {"type": "string"},
          "scorecard_title": {"type": "string"},
          "scorecard_text": {"type": "string"},
          "available_grades": {
            "type": "array",
            "items": {"type": "integer"}
          },
          "available_grades_names": {
            "type": "array",
            "items": {"type": "string"}
          },
          "is_active": {"type": "boolean"},
          "created_at": {"type": "string", "format": "date-time"},
          "updated_at": {"type": "string", "format": "date-time"}
        }
      },
      "Interviewer": {
        "type": "object",
        "properties": {
          "id": {"type": "integer"},
          "user": {"type": "integer"},
          "user_name": {"type": "string"},
          "specialization": {"type": "string"},
          "experience_years": {"type": "integer"},
          "is_active": {"type": "boolean"},
          "created_at": {"type": "string", "format": "date-time"}
        }
      },
      "CalendarEvent": {
        "type": "object",
        "properties": {
          "id": {"type": "string"},
          "summary": {"type": "string"},
          "description": {"type": "string"},
          "start": {
            "type": "object",
            "properties": {
              "dateTime": {"type": "string", "format": "date-time"}
            }
          },
          "end": {
            "type": "object",
            "properties": {
              "dateTime": {"type": "string", "format": "date-time"}
            }
          },
          "attendees": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "email": {"type": "string"},
                "displayName": {"type": "string"}
              }
            }
          }
        }
      },
      "ClickUpTask": {
        "type": "object",
        "properties": {
          "id": {"type": "string"},
          "name": {"type": "string"},
          "description": {"type": "string"},
          "status": {
            "type": "object",
            "properties": {
              "status": {"type": "string"},
              "color": {"type": "string"}
            }
          },
          "assignees": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": {"type": "integer"},
                "username": {"type": "string"}
              }
            }
          },
          "date_created": {"type": "string", "format": "date-time"},
          "date_updated": {"type": "string", "format": "date-time"}
        }
      },
      "NotionPage": {
        "type": "object",
        "properties": {
          "id": {"type": "string"},
          "title": {"type": "string"},
          "url": {"type": "string"},
          "created_time": {"type": "string", "format": "date-time"},
          "last_edited_time": {"type": "string", "format": "date-time"},
          "properties": {"type": "object"}
        }
      },
      "ErrorResponse": {
        "type": "object",
        "properties": {
          "error": {"type": "string"},
          "message": {"type": "string"},
          "details": {"type": "object"}
        }
      },
      "ClickUpSettings": {
        "type": "object",
        "properties": {
          "id": {"type": "integer"},
          "user": {"type": "integer"},
          "user_username": {"type": "string"},
          "team_id": {"type": "string"},
          "space_id": {"type": "string"},
          "folder_id": {"type": "string", "nullable": true},
          "list_id": {"type": "string"},
          "auto_sync": {"type": "boolean"},
          "sync_interval": {"type": "integer"},
          "path_description": {"type": "string"},
          "created_at": {"type": "string", "format": "date-time"},
          "updated_at": {"type": "string", "format": "date-time"},
          "last_sync_at": {"type": "string", "format": "date-time", "nullable": true}
        }
      },
      "ClickUpSettingsUpdate": {
        "type": "object",
        "properties": {
          "team_id": {"type": "string"},
          "space_id": {"type": "string"},
          "folder_id": {"type": "string"},
          "list_id": {"type": "string"},
          "auto_sync": {"type": "boolean"},
          "sync_interval": {"type": "integer"}
        }
      },
      "ClickUpTaskDetail": {
        "type": "object",
        "properties": {
          "id": {"type": "integer"},
          "task_id": {"type": "string"},
          "name": {"type": "string"},
          "description": {"type": "string"},
          "status": {"type": "string"},
          "priority": {"type": "string"},
          "date_created": {"type": "string", "format": "date-time"},
          "date_updated": {"type": "string", "format": "date-time"},
          "due_date": {"type": "string", "format": "date-time"},
          "url": {"type": "string", "format": "uri"},
          "assignees": {"type": "array"},
          "assignees_display": {"type": "array", "items": {"type": "string"}},
          "tags": {"type": "array"},
          "tags_display": {"type": "array", "items": {"type": "string"}},
          "attachments": {"type": "array"},
          "attachments_display": {"type": "array"},
          "custom_fields": {"type": "object"},
          "custom_fields_display": {"type": "array"},
          "user": {"type": "integer"},
          "user_username": {"type": "string"},
          "created_at": {"type": "string", "format": "date-time"},
          "updated_at": {"type": "string", "format": "date-time"}
        }
      },
      "ClickUpTransferRequest": {
        "type": "object",
        "properties": {
          "account_id": {"type": "integer"},
          "vacancy_id": {"type": "integer"}
        },
        "required": ["account_id"]
      },
      "ClickUpBulkImport": {
        "type": "object",
        "properties": {
          "id": {"type": "integer"},
          "user": {"type": "integer"},
          "user_username": {"type": "string"},
          "status": {"type": "string", "enum": ["running", "completed", "failed", "cancelled", "stopped"]},
          "total_tasks": {"type": "integer"},
          "processed_tasks": {"type": "integer"},
          "successful_tasks": {"type": "integer"},
          "failed_tasks": {"type": "integer"},
          "failed_task_ids": {"type": "array", "items": {"type": "string"}},
          "error_message": {"type": "string"},
          "celery_task_id": {"type": "string"},
          "progress_percentage": {"type": "number"},
          "success_rate": {"type": "number"},
          "created_at": {"type": "string", "format": "date-time"},
          "updated_at": {"type": "string", "format": "date-time"},
          "completed_at": {"type": "string", "format": "date-time", "nullable": true}
        }
      },
      "ClickUpBulkImportRequest": {
        "type": "object",
        "properties": {
          "sync_settings": {"type": "boolean", "default": true},
          "delay_between_tasks": {"type": "integer", "default": 8},
          "max_tasks": {"type": "integer", "default": 100}
        }
      },
      "ClickUpSyncLog": {
        "type": "object",
        "properties": {
          "id": {"type": "integer"},
          "user": {"type": "integer"},
          "user_username": {"type": "string"},
          "status": {"type": "string", "enum": ["success", "error", "partial"]},
          "tasks_processed": {"type": "integer"},
          "tasks_created": {"type": "integer"},
          "tasks_updated": {"type": "integer"},
          "error_message": {"type": "string"},
          "sync_duration": {"type": "number"},
          "created_at": {"type": "string", "format": "date-time"}
        }
      },
      "GoogleOAuthAccount": {
        "type": "object",
        "properties": {
          "id": {"type": "integer"},
          "user": {"type": "integer"},
          "user_username": {"type": "string"},
          "email": {"type": "string", "format": "email"},
          "access_token": {"type": "string"},
          "refresh_token": {"type": "string"},
          "token_expires_at": {"type": "string", "format": "date-time"},
          "is_active": {"type": "boolean"},
          "created_at": {"type": "string", "format": "date-time"},
          "updated_at": {"type": "string", "format": "date-time"}
        }
      },
      "GoogleCalendarEvent": {
        "type": "object",
        "properties": {
          "id": {"type": "integer"},
          "oauth_account": {"type": "integer"},
          "oauth_account_email": {"type": "string"},
          "event_id": {"type": "string"},
          "summary": {"type": "string"},
          "description": {"type": "string"},
          "start": {"type": "object"},
          "end": {"type": "object"},
          "attendees": {"type": "array"},
          "attendees_display": {"type": "array", "items": {"type": "string"}},
          "location": {"type": "string"},
          "html_link": {"type": "string", "format": "uri"},
          "created_at": {"type": "string", "format": "date-time"},
          "updated_at": {"type": "string", "format": "date-time"}
        }
      },
      "GoogleDriveFile": {
        "type": "object",
        "properties": {
          "id": {"type": "integer"},
          "oauth_account": {"type": "integer"},
          "oauth_account_email": {"type": "string"},
          "file_id": {"type": "string"},
          "name": {"type": "string"},
          "mime_type": {"type": "string"},
          "size": {"type": "integer"},
          "web_view_link": {"type": "string", "format": "uri"},
          "created_time": {"type": "string", "format": "date-time"},
          "modified_time": {"type": "string", "format": "date-time"},
          "created_at": {"type": "string", "format": "date-time"},
          "updated_at": {"type": "string", "format": "date-time"}
        }
      },
      "TelegramChat": {
        "type": "object",
        "properties": {
          "id": {"type": "integer"},
          "user": {"type": "integer"},
          "user_username": {"type": "string"},
          "chat_id": {"type": "string"},
          "chat_type": {"type": "string"},
          "title": {"type": "string"},
          "username": {"type": "string"},
          "first_name": {"type": "string"},
          "last_name": {"type": "string"},
          "is_active": {"type": "boolean"},
          "created_at": {"type": "string", "format": "date-time"},
          "updated_at": {"type": "string", "format": "date-time"}
        }
      },
      "TelegramMessage": {
        "type": "object",
        "properties": {
          "id": {"type": "integer"},
          "chat": {"type": "integer"},
          "chat_title": {"type": "string"},
          "message_id": {"type": "integer"},
          "message_type": {"type": "string"},
          "text": {"type": "string"},
          "from_user": {"type": "object"},
          "from_user_display": {"type": "string"},
          "date": {"type": "string", "format": "date-time"},
          "reply_to_message": {"type": "object"},
          "created_at": {"type": "string", "format": "date-time"},
          "updated_at": {"type": "string", "format": "date-time"}
        }
      },
      "NotionSettings": {
        "type": "object",
        "properties": {
          "id": {"type": "integer"},
          "user": {"type": "integer"},
          "user_username": {"type": "string"},
          "database_id": {"type": "string"},
          "auto_sync": {"type": "boolean"},
          "sync_interval": {"type": "integer"},
          "created_at": {"type": "string", "format": "date-time"},
          "updated_at": {"type": "string", "format": "date-time"},
          "last_sync_at": {"type": "string", "format": "date-time", "nullable": true}
        }
      },
      "NotionSettingsUpdate": {
        "type": "object",
        "properties": {
          "database_id": {"type": "string"},
          "auto_sync": {"type": "boolean"},
          "sync_interval": {"type": "integer"}
        }
      },
      "NotionPageDetail": {
        "type": "object",
        "properties": {
          "id": {"type": "integer"},
          "page_id": {"type": "string"},
          "title": {"type": "string"},
          "url": {"type": "string", "format": "uri"},
          "parent_id": {"type": "string"},
          "properties": {"type": "object"},
          "properties_display": {"type": "array"},
          "created_time": {"type": "string", "format": "date-time"},
          "last_edited_time": {"type": "string", "format": "date-time"},
          "user": {"type": "integer"},
          "user_username": {"type": "string"},
          "created_at": {"type": "string", "format": "date-time"},
          "updated_at": {"type": "string", "format": "date-time"}
        }
      },
      "NotionTransferRequest": {
        "type": "object",
        "properties": {
          "account_id": {"type": "integer"},
          "vacancy_id": {"type": "integer"}
        },
        "required": ["account_id"]
      },
      "NotionBulkImport": {
        "type": "object",
        "properties": {
          "id": {"type": "integer"},
          "user": {"type": "integer"},
          "user_username": {"type": "string"},
          "status": {"type": "string", "enum": ["running", "completed", "failed", "cancelled", "stopped"]},
          "total_pages": {"type": "integer"},
          "processed_pages": {"type": "integer"},
          "successful_pages": {"type": "integer"},
          "failed_pages": {"type": "integer"},
          "failed_page_ids": {"type": "array", "items": {"type": "string"}},
          "error_message": {"type": "string"},
          "celery_task_id": {"type": "string"},
          "progress_percentage": {"type": "number"},
          "success_rate": {"type": "number"},
          "created_at": {"type": "string", "format": "date-time"},
          "updated_at": {"type": "string", "format": "date-time"},
          "completed_at": {"type": "string", "format": "date-time", "nullable": true}
        }
      },
      "NotionBulkImportRequest": {
        "type": "object",
        "properties": {
          "sync_settings": {"type": "boolean", "default": true},
          "delay_between_pages": {"type": "integer", "default": 5},
          "max_pages": {"type": "integer", "default": 100}
        }
      },
      "NotionSyncLog": {
        "type": "object",
        "properties": {
          "id": {"type": "integer"},
          "user": {"type": "integer"},
          "user_username": {"type": "string"},
          "status": {"type": "string", "enum": ["success", "error", "partial"]},
          "pages_processed": {"type": "integer"},
          "pages_created": {"type": "integer"},
          "pages_updated": {"type": "integer"},
          "error_message": {"type": "string"},
          "sync_duration": {"type": "number"},
          "created_at": {"type": "string", "format": "date-time"}
        }
      }
    },
    "securitySchemes": {
      "SessionAuth": {
        "type": "apiKey",
        "in": "cookie",
        "name": "sessionid"
      },
      "BearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    }
  }
}
