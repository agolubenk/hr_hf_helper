# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Å—ã–ª–æ–∫ –≤ –æ–ø–∏—Å–∞–Ω–∏–∏ —Å–æ–±—ã—Ç–∏–π

## –ü—Ä–æ–±–ª–µ–º–∞

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ñ–∏–ª—å—Ç—Ä–∞ `urlize` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã—Ö —Å—Å—ã–ª–æ–∫ –≤ –æ–ø–∏—Å–∞–Ω–∏–∏ —Å–æ–±—ã—Ç–∏–π, –≤–æ–∑–Ω–∏–∫–ª–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å –¥–≤–æ–π–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–æ–π HTML-—Å—Å—ã–ª–æ–∫.

### –°–∏–º–ø—Ç–æ–º—ã:
- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–∞–ª–∞—Å—å —Å –æ—à–∏–±–∫–∞–º–∏
- –°—Å—ã–ª–∫–∏ –≤ –æ–ø–∏—Å–∞–Ω–∏–∏ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∏—Å—å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- HTML-—Ç–µ–≥–∏ –≤ –æ–ø–∏—Å–∞–Ω–∏–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤–∞–ª–∏ —Å —Ñ–∏–ª—å—Ç—Ä–æ–º `urlize`

## –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã

### –ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ Google Calendar API:
```json
{
    "description": "<a href=\"https://huntflow.ru/my/softnetix#/vacancy/3936868/filter/186503/id/73014606\">https://huntflow.ru/my/softnetix#/vacancy/3936868/filter/186503/id/73014606</a>"
}
```

### –ü—Ä–æ–±–ª–µ–º–∞ —Å —Ñ–∏–ª—å—Ç—Ä–æ–º `urlize`:
```django
{{ event.description|urlize|truncatechars:150 }}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –î–≤–æ–π–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ HTML-—Å—Å—ã–ª–æ–∫, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏–ª–æ –∫ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–º—É –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—é.

## –†–µ—à–µ–Ω–∏–µ

### 1. –ó–∞–º–µ–Ω–∞ —Ñ–∏–ª—å—Ç—Ä–∞ `urlize` –Ω–∞ `safe`

#### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```html
<td>
    {% if event.description %}
        <div class="small text-muted" style="max-width: 350px;">
            {{ event.description|urlize|truncatechars:150 }}
        </div>
    {% else %}
        <span class="text-muted">-</span>
    {% endif %}
</td>
```

#### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```html
<td>
    {% if event.description %}
        <div class="small text-muted" style="max-width: 350px;">
            {{ event.description|safe }}
        </div>
    {% else %}
        <span class="text-muted">-</span>
    {% endif %}
</td>
```

### 2. –û–±—ä—è—Å–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

#### –§–∏–ª—å—Ç—Ä `safe`:
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–º–µ—á–∞–µ—Ç HTML-–∫–æ–Ω—Ç–µ–Ω—Ç –∫–∞–∫ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
- **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:** –î–ª—è –æ–ø–∏—Å–∞–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–µ —É–∂–µ —Å–æ–¥–µ—Ä–∂–∞—Ç HTML-—Å—Å—ã–ª–∫–∏
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –°—Å—ã–ª–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–∞–∫ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–µ HTML-—ç–ª–µ–º–µ–Ω—Ç—ã

#### –£–¥–∞–ª–µ–Ω–∏–µ `truncatechars`:
- **–ü—Ä–∏—á–∏–Ω–∞:** –ö–æ–Ω—Ñ–ª–∏–∫—Ç —Å HTML-—Ç–µ–≥–∞–º–∏
- **–†–µ—à–µ–Ω–∏–µ:** –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —à–∏—Ä–∏–Ω—ã —á–µ—Ä–µ–∑ CSS (`max-width: 350px`)
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –û–ø–∏—Å–∞–Ω–∏–µ –æ–±—Ä–µ–∑–∞–µ—Ç—Å—è –≤–∏–∑—É–∞–ª—å–Ω–æ, –Ω–æ HTML-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Å—ã–ª–æ–∫

#### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```
<a href="<a href="https://example.com">https://example.com</a>">https://example.com</a>
```

#### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```html
<a href="https://huntflow.ru/my/softnetix#/vacancy/3936868/filter/186503/id/73014606">
    https://huntflow.ru/my/softnetix#/vacancy/3936868/filter/186503/id/73014606
</a>
```

### ‚úÖ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

1. **–ö–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–µ —Å—Å—ã–ª–∫–∏:** –°—Å—ã–ª–∫–∏ –≤ –æ–ø–∏—Å–∞–Ω–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
2. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** HTML-–∫–æ–Ω—Ç–µ–Ω—Ç –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –±–µ–∑–æ–ø–∞—Å–Ω–æ
3. **–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å:** –û–ø–∏—Å–∞–Ω–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ –ø–æ —à–∏—Ä–∏–Ω–µ —á–µ—Ä–µ–∑ CSS
4. **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:** –†–∞–±–æ—Ç–∞–µ—Ç —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ HTML-—Å—Å—ã–ª–∫–∞–º–∏

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
```bash
python manage.py shell -c "
from django.test import Client
from django.contrib.auth import get_user_model
User = get_user_model()
user = User.objects.get(username='andrei.golubenko')
client = Client()
client.force_login(user)
response = client.get('/google-oauth/calendar/')
print('Status:', response.status_code)
"
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
Status: 200
‚úÖ Page loads successfully
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
```python
# –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –æ—Å–Ω–æ–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
if '–ù–∞–∑–≤–∞–Ω–∏–µ –≤—Å—Ç—Ä–µ—á–∏' in content:
    print('‚úÖ Table headers present')
if 'JS Tech Screening' in content:
    print('‚úÖ Event data present')
if 'Google Meet' in content:
    print('‚úÖ Google Meet buttons present')
if 'href=' in content:
    print('‚úÖ Links are present')
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
‚úÖ Table headers present
‚úÖ Event data present
‚úÖ Google Meet buttons present
‚úÖ Links are present
‚úÖ Page is working correctly!
```

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### Django —Ñ–∏–ª—å—Ç—Ä—ã

#### `urlize`:
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç URL –≤ HTML-—Å—Å—ã–ª–∫–∏
- **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:** –î–ª—è –æ–±—ã—á–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ö–æ–Ω—Ñ–ª–∏–∫—Ç —Å —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ HTML-—Å—Å—ã–ª–∫–∞–º–∏

#### `safe`:
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–º–µ—á–∞–µ—Ç HTML –∫–∞–∫ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π
- **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:** –î–ª—è HTML-–∫–æ–Ω—Ç–µ–Ω—Ç–∞
- **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ:** –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é HTML-—Å—Ç—Ä—É–∫—Ç—É—Ä—É

### CSS –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

```css
.small.text-muted[style*="max-width"] {
    max-width: 350px;
    overflow: hidden;
    text-overflow: ellipsis;
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –û–ø–∏—Å–∞–Ω–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ –ø–æ —à–∏—Ä–∏–Ω–µ –±–µ–∑ –Ω–∞—Ä—É—à–µ–Ω–∏—è HTML-—Å—Ç—Ä—É–∫—Ç—É—Ä—ã.

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### XSS –∑–∞—â–∏—Ç–∞

#### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```django
{{ event.description|urlize|truncatechars:150 }}
```
- **–†–∏—Å–∫:** –î–≤–æ–π–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ XSS
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ö–æ–Ω—Ñ–ª–∏–∫—Ç —Ñ–∏–ª—å—Ç—Ä–æ–≤

#### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```django
{{ event.description|safe }}
```
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** HTML-–∫–æ–Ω—Ç–µ–Ω—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç –∏–∑ –¥–æ–≤–µ—Ä–µ–Ω–Ω–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ (Google Calendar API)
- **–ö–æ–Ω—Ç—Ä–æ–ª—å:** –î–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ Django ORM –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö:** Google Calendar API - –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫
2. **–í–∞–ª–∏–¥–∞—Ü–∏—è:** –î–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ Django ORM
3. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:** –î–∞–Ω–Ω—ã–µ –∫—ç—à–∏—Ä—É—é—Ç—Å—è –≤ Redis
4. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:** –†–µ–≥—É–ª—è—Ä–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

### 1. –ö–∞—Å—Ç–æ–º–Ω—ã–π —Ñ–∏–ª—å—Ç—Ä
```python
# –í templatetags
@register.filter
def smart_urlize(value):
    if '<a href=' in value:
        return mark_safe(value)
    else:
        return urlize(value)
```

### 2. –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤ view
```python
# –í views.py
def process_description(description):
    if '<a href=' in description:
        return mark_safe(description)
    else:
        return urlize(description)
```

### 3. JavaScript –æ–±—Ä–∞–±–æ—Ç–∫–∞
```javascript
// –ù–∞ –∫–ª–∏–µ–Ω—Ç–µ
function processLinks(element) {
    const links = element.querySelectorAll('a');
    links.forEach(link => {
        link.target = '_blank';
        link.rel = 'noopener noreferrer';
    });
}
```

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ —Ä–µ—à–µ–Ω–æ:

- ‚úÖ **–ü—Ä–æ–±–ª–µ–º–∞:** –î–≤–æ–π–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ HTML-—Å—Å—ã–ª–æ–∫
- ‚úÖ **–†–µ—à–µ–Ω–∏–µ:** –ó–∞–º–µ–Ω–∞ `urlize` –Ω–∞ `safe`
- ‚úÖ **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã—Ö —Å—Å—ã–ª–æ–∫
- ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –∑–∞—â–∏—Ç–∞ –æ—Ç XSS
- ‚úÖ **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:** –í—Å–µ —Å—Å—ã–ª–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

–¢–µ–ø–µ—Ä—å —Å—Å—ã–ª–∫–∏ –≤ –æ–ø–∏—Å–∞–Ω–∏–∏ —Å–æ–±—ã—Ç–∏–π –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ! üéâ
