# Finance App - –õ–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–æ–≤ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å–æ–≤

## üéØ –û–±–∑–æ—Ä

–î–∞–Ω–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç –¥–µ—Ç–∞–ª—å–Ω–æ –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ª–æ–≥–∏–∫—É —Ä–∞—Å—á–µ—Ç–æ–≤ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è —Ç—Ä–µ—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Finance:
- **TaxService** - –Ω–∞–ª–æ–≥–æ–≤–∞—è –ª–æ–≥–∏–∫–∞
- **CurrencyService** - –≤–∞–ª—é—Ç–Ω–∞—è –ª–æ–≥–∏–∫–∞  
- **SalaryService** - –∑–∞—Ä–ø–ª–∞—Ç–Ω–∞—è –ª–æ–≥–∏–∫–∞

---

## üßÆ **1. TAX SERVICE - –ù–∞–ª–æ–≥–æ–≤–∞—è –ª–æ–≥–∏–∫–∞**

### üìã **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**
–£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å –¥–ª—è –≤—Å–µ—Ö –Ω–∞–ª–æ–≥–æ–≤—ã—Ö —Ä–∞—Å—á–µ—Ç–æ–≤, –æ–±—ä–µ–¥–∏–Ω—è—é—â–∏–π –ª–æ–≥–∏–∫—É –∏–∑ `models.py`, `pln_tax_services.py` –∏ `SalaryRange`.

### üîß **–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã –∏ –ª–æ–≥–∏–∫–∞**

#### 1.1 `calculate_gross_from_net(net_amount, currency="PLN")`
**–õ–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–∞:**
```python
# –§–æ—Ä–º—É–ª–∞: Gross = Net / (1 - –æ–±—â–∞—è_–Ω–∞–ª–æ–≥–æ–≤–∞—è_—Å—Ç–∞–≤–∫–∞)
total_tax_rate = sum(tax.rate_decimal for tax in active_taxes)
gross_amount = net_amount / (1 - total_tax_rate)
```

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
- `PLNTax` –º–æ–¥–µ–ª—å (—Ñ–∏–Ω–∞–Ω—Å—ã) - –ø–æ–ª—É—á–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö –Ω–∞–ª–æ–≥–æ–≤
- –¢–æ–ª—å–∫–æ –¥–ª—è –≤–∞–ª—é—Ç—ã PLN (–¥—Ä—É–≥–∏–µ –≤–∞–ª—é—Ç—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç net —Å—É–º–º—É)

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- –†–∞—Å—á–µ—Ç gross –∑–∞—Ä–ø–ª–∞—Ç—ã –∏–∑ net
- –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è PLN —Å —É—á–µ—Ç–æ–º –Ω–∞–ª–æ–≥–æ–≤
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞—Ä–ø–ª–∞—Ç–Ω—ã—Ö –≤–∏–ª–æ–∫

#### 1.2 `calculate_net_from_gross(gross_amount, currency="PLN")`
**–õ–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–∞:**
```python
# –§–æ—Ä–º—É–ª–∞: Net = Gross * (1 - –æ–±—â–∞—è_–Ω–∞–ª–æ–≥–æ–≤–∞—è_—Å—Ç–∞–≤–∫–∞)
total_tax_rate = sum(tax.rate_decimal for tax in active_taxes)
net_amount = gross_amount * (1 - total_tax_rate)
```

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
- `PLNTax` –º–æ–¥–µ–ª—å (—Ñ–∏–Ω–∞–Ω—Å—ã) - –ø–æ–ª—É—á–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö –Ω–∞–ª–æ–≥–æ–≤
- –¢–æ–ª—å–∫–æ –¥–ª—è –≤–∞–ª—é—Ç—ã PLN

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- –û–±—Ä–∞—Ç–Ω—ã–π —Ä–∞—Å—á–µ—Ç net –∏–∑ gross
- –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞–ª–æ–≥–æ–≤—ã—Ö —Ä–∞—Å—á–µ—Ç–æ–≤

#### 1.3 `get_tax_breakdown(gross_amount, currency="PLN")`
**–õ–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–∞:**
```python
# –î–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –Ω–∞–ª–æ–≥–∞:
tax_amount = gross_amount * tax.rate_decimal
total_tax_amount += tax_amount
net_amount = gross_amount - total_tax_amount
```

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
- –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—é –ø–æ –∫–∞–∂–¥–æ–º—É –Ω–∞–ª–æ–≥—É
- –û–±—â—É—é —Å—É–º–º—É –Ω–∞–ª–æ–≥–æ–≤
- Net –∏ gross —Å—É–º–º—ã
- –û–±—â–∏–π –ø—Ä–æ—Ü–µ–Ω—Ç –Ω–∞–ª–æ–≥–æ–≤

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
- `PLNTax` –º–æ–¥–µ–ª—å (—Ñ–∏–Ω–∞–Ω—Å—ã) - –ø–æ–ª—É—á–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö –Ω–∞–ª–æ–≥–æ–≤

#### 1.4 `calculate_salary_with_taxes(net_amount, currency_from, currency_to)`
**–õ–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–∞:**
1. –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç gross –≤ –∏—Å—Ö–æ–¥–Ω–æ–π –≤–∞–ª—é—Ç–µ
2. –ü–æ–ª—É—á–∞–µ—Ç –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—é –Ω–∞–ª–æ–≥–æ–≤
3. –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –≤–∞–ª—é—Ç—ã —á–µ—Ä–µ–∑ `CurrencyService`
4. –ü—Ä–∏–º–µ–Ω—è–µ—Ç –Ω–∞–ª–æ–≥–æ–≤—ã–µ —Ä–∞—Å—á–µ—Ç—ã

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
- `CurrencyService` - –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤–∞–ª—é—Ç
- `PLNTax` –º–æ–¥–µ–ª—å (—Ñ–∏–Ω–∞–Ω—Å—ã) - –Ω–∞–ª–æ–≥–æ–≤—ã–µ —Å—Ç–∞–≤–∫–∏

#### 1.5 `get_tax_summary()`
**–õ–æ–≥–∏–∫–∞:**
- –ü–æ–¥—Å—á–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö/–Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö –Ω–∞–ª–æ–≥–æ–≤
- –†–∞—Å—á–µ—Ç –æ–±—â–µ–π –Ω–∞–ª–æ–≥–æ–≤–æ–π —Å—Ç–∞–≤–∫–∏
- –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –Ω–∞–ª–æ–≥–æ–≤ —Å –¥–µ—Ç–∞–ª—è–º–∏

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
- `PLNTax` –º–æ–¥–µ–ª—å (—Ñ–∏–Ω–∞–Ω—Å—ã) - –≤—Å–µ –Ω–∞–ª–æ–≥–∏

#### 1.6 `calculate_multiple_salaries(salaries)`
**–õ–æ–≥–∏–∫–∞:**
- –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–ø–∏—Å–∫–∞ –∑–∞—Ä–ø–ª–∞—Ç
- –ê–≥—Ä–µ–≥–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- –†–∞—Å—á–µ—Ç —Å—Ä–µ–¥–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
- –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –º–µ—Ç–æ–¥—ã `TaxService`

### üîó **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Å –¥—Ä—É–≥–∏–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏**
- ‚ùå **–ù–µ—Ç –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–ª—å–∫–æ –º–æ–¥–µ–ª–∏ Finance

---

## üí± **2. CURRENCY SERVICE - –í–∞–ª—é—Ç–Ω–∞—è –ª–æ–≥–∏–∫–∞**

### üìã **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**
–°–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≤–∞–ª—é—Ç–∞–º–∏ –∏ –∫—É—Ä—Å–∞–º–∏, –æ–±—ä–µ–¥–∏–Ω—è—é—â–∏–π –ª–æ–≥–∏–∫—É –∏–∑ `services.py` –∏ `CurrencyRateService`.

### üîß **–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã –∏ –ª–æ–≥–∏–∫–∞**

#### 2.1 `get_latest_rates()`
**–õ–æ–≥–∏–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –∫—É—Ä—Å–æ–≤:**
1. **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** API –ù–ë–†–ë (–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ –∫—É—Ä—Å—ã)
2. **Fallback:** –†—ã–Ω–æ—á–Ω—ã–µ –∫—É—Ä—Å—ã –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –ù–ë–†–ë
3. **–í–∞–ª–∏–¥–∞—Ü–∏—è:** –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö

**–ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö:**
- **–û—Å–Ω–æ–≤–Ω–æ–π:** `https://api.nbrb.by/exrates/rates/{currency}?parammode=2`
- **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ:** exchangerate-api.com, open.er-api.com (—Ç–æ–ª—å–∫–æ –¥–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏)

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
- `requests` –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ - HTTP –∑–∞–ø—Ä–æ—Å—ã
- –í–Ω–µ—à–Ω–∏–µ API –ù–ë–†–ë

#### 2.2 `_get_nbrb_rates()`
**–õ–æ–≥–∏–∫–∞:**
1. –ü–æ–ª—É—á–µ–Ω–∏–µ –∫—É—Ä—Å–æ–≤ USD –∏ PLN –∏–∑ –ù–ë–†–ë
2. –û–±—Ä–∞–±–æ—Ç–∫–∞ JSON –æ—Ç–≤–µ—Ç–∞
3. –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞ –ù–ë–†–ë:**
```json
{
  "Cur_ID": 145,
  "Date": "2024-01-15T00:00:00",
  "Cur_Abbreviation": "USD",
  "Cur_Scale": 1,
  "Cur_Name": "–î–æ–ª–ª–∞—Ä –°–®–ê",
  "Cur_OfficialRate": 3.25
}
```

#### 2.3 `_fetch_nbrb_rate(currency)`
**–õ–æ–≥–∏–∫–∞:**
- HTTP GET –∑–∞–ø—Ä–æ—Å –∫ –ù–ë–†–ë API
- –ü–∞—Ä—Å–∏–Ω–≥ JSON –æ—Ç–≤–µ—Ç–∞
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å–µ—Ç–∏

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
- `requests` –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
- –í–Ω–µ—à–Ω–∏–π API –ù–ë–†–ë

#### 2.4 `convert_amount(amount, from_currency, to_currency)`
**–õ–æ–≥–∏–∫–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏:**
```python
# –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —á–µ—Ä–µ–∑ BYN –∫–∞–∫ –±–∞–∑–æ–≤—É—é –≤–∞–ª—é—Ç—É:
if from_currency == "BYN":
    converted_amount = amount / target_rate
elif to_currency == "BYN":
    converted_amount = amount * source_rate
else:
    # –¥—Ä—É–≥–∞—è –≤–∞–ª—é—Ç–∞ -> –¥—Ä—É–≥–∞—è –≤–∞–ª—é—Ç–∞ (—á–µ—Ä–µ–∑ BYN)
    byn_amount = amount * source_rate
    converted_amount = byn_amount / target_rate
```

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
- `get_latest_rates()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –∫—É—Ä—Å–æ–≤

#### 2.5 `update_currency_rates()`
**–õ–æ–≥–∏–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:**
1. –ü–æ–ª—É—á–µ–Ω–∏–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –∫—É—Ä—Å–æ–≤
2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ/—Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π –≤ –ë–î
3. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
- `CurrencyRate` –º–æ–¥–µ–ª—å (—Ñ–∏–Ω–∞–Ω—Å—ã) - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î
- `get_latest_rates()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∫—É—Ä—Å–æ–≤

### üîó **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Å –¥—Ä—É–≥–∏–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏**
- ‚ùå **–ù–µ—Ç –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–ª—å–∫–æ –º–æ–¥–µ–ª–∏ Finance
- üåê **–í–Ω–µ—à–Ω–∏–µ API:** –ù–ë–†–ë, exchangerate-api.com

---

## üí∞ **3. SALARY SERVICE - –ó–∞—Ä–ø–ª–∞—Ç–Ω–∞—è –ª–æ–≥–∏–∫–∞**

### üìã **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**
–°–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∑–∞—Ä–ø–ª–∞—Ç–Ω—ã–º–∏ –≤–∏–ª–∫–∞–º–∏, –æ–±—ä–µ–¥–∏–Ω—è—é—â–∏–π –ª–æ–≥–∏–∫—É –∏–∑ `SalaryRange` –º–æ–¥–µ–ª–∏.

### üîß **–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã –∏ –ª–æ–≥–∏–∫–∞**

#### 3.1 `calculate_byn_amounts(salary_min_usd, salary_max_usd)`
**–õ–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–∞:**
```python
# –§–æ—Ä–º—É–ª–∞: BYN = USD * –∫—É—Ä—Å_USD_–∫_BYN
usd_rate = CurrencyRate.objects.get(code='USD').rate
min_byn = salary_min_usd * usd_rate
max_byn = salary_max_usd * usd_rate
```

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
- `CurrencyRate` –º–æ–¥–µ–ª—å (—Ñ–∏–Ω–∞–Ω—Å—ã) - –∫—É—Ä—Å USD
- –¢–æ–ª—å–∫–æ –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ USD ‚Üí BYN

#### 3.2 `calculate_pln_amounts(salary_min_usd, salary_max_usd)`
**–õ–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–∞:**
```python
# –ú–Ω–æ–≥–æ—ç—Ç–∞–ø–Ω–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è:
# 1. USD -> BYN
byn_amount = salary_usd * usd_rate

# 2. BYN -> PLN (Gross)
pln_gross = byn_amount / pln_to_byn_rate

# 3. PLN Gross -> PLN Net (—Å —É—á–µ—Ç–æ–º –Ω–∞–ª–æ–≥–æ–≤)
pln_net = TaxService.calculate_gross_from_net(pln_gross, "PLN")
```

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
- `CurrencyRate` –º–æ–¥–µ–ª—å (—Ñ–∏–Ω–∞–Ω—Å—ã) - –∫—É—Ä—Å—ã USD –∏ PLN
- `TaxService` - —Ä–∞—Å—á–µ—Ç –Ω–∞–ª–æ–≥–æ–≤ PLN

#### 3.3 `create_salary_range(vacancy_id, grade_id, salary_min_usd, salary_max_usd)`
**–õ–æ–≥–∏–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è:**
1. –í–∞–ª–∏–¥–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –≤–∞–∫–∞–Ω—Å–∏–∏ –∏ –≥—Ä–µ–π–¥–∞
2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ (vacancy + grade)
3. –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –≤ –ë–î
4. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç –≤ –¥—Ä—É–≥–∏—Ö –≤–∞–ª—é—Ç–∞—Ö

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
- `SalaryRange` –º–æ–¥–µ–ª—å (—Ñ–∏–Ω–∞–Ω—Å—ã) - –æ—Å–Ω–æ–≤–Ω–∞—è –º–æ–¥–µ–ª—å
- `Vacancy` –º–æ–¥–µ–ª—å (–≤–∞–∫–∞–Ω—Å–∏–∏) - –≤–Ω–µ—à–Ω—è—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
- `Grade` –º–æ–¥–µ–ª—å (—Ñ–∏–Ω–∞–Ω—Å—ã) - –≥—Ä–µ–π–¥—ã
- `_calculate_currency_amounts()` - —Ä–∞—Å—á–µ—Ç –≤–∞–ª—é—Ç

#### 3.4 `update_salary_range(salary_range_id, ...)`
**–õ–æ–≥–∏–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:**
1. –ü–æ–∏—Å–∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∑–∞–ø–∏—Å–∏
2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã—Ö –ø–æ–ª–µ–π
3. –ü–µ—Ä–µ—Å—á–µ—Ç –≤–∞–ª—é—Ç–Ω—ã—Ö —Å—É–º–º
4. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
- `SalaryRange` –º–æ–¥–µ–ª—å (—Ñ–∏–Ω–∞–Ω—Å—ã)
- `_calculate_currency_amounts()` - –ø–µ—Ä–µ—Å—á–µ—Ç –≤–∞–ª—é—Ç

#### 3.5 `_calculate_currency_amounts(salary_range)`
**–õ–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–∞ –≤–∞–ª—é—Ç:**
```python
# –ü–æ–ª—É—á–µ–Ω–∏–µ –∫—É—Ä—Å–æ–≤ —á–µ—Ä–µ–∑ CurrencyService
usd_rate = CurrencyService.convert_amount(Decimal('1'), 'USD', 'BYN')
pln_rate = CurrencyService.convert_amount(Decimal('1'), 'PLN', 'BYN')

# –†–∞—Å—á–µ—Ç BYN
salary_range.salary_min_byn = salary_min_usd * usd_rate['converted_amount']

# –†–∞—Å—á–µ—Ç PLN —Å –Ω–∞–ª–æ–≥–∞–º–∏
byn_amount = salary_min_usd * usd_rate['converted_amount']
pln_gross = byn_amount / pln_rate['converted_amount']
salary_range.salary_min_pln = TaxService.calculate_gross_from_net(pln_gross, "PLN")
```

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
- `CurrencyService` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∫—É—Ä—Å–æ–≤ –≤–∞–ª—é—Ç
- `TaxService` - —Ä–∞—Å—á–µ—Ç –Ω–∞–ª–æ–≥–æ–≤ PLN

#### 3.6 `get_salary_range_stats()`
**–õ–æ–≥–∏–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏:**
- –ü–æ–¥—Å—á–µ—Ç –æ–±—â–∏—Ö/–∞–∫—Ç–∏–≤–Ω—ã—Ö/–Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö –≤–∏–ª–æ–∫
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –≤–∞–∫–∞–Ω—Å–∏—è–º –∏ –≥—Ä–µ–π–¥–∞–º
- –°—Ä–µ–¥–Ω–∏–µ –∑–∞—Ä–ø–ª–∞—Ç—ã

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
- `SalaryRange` –º–æ–¥–µ–ª—å (—Ñ–∏–Ω–∞–Ω—Å—ã)
- `Vacancy` –º–æ–¥–µ–ª—å (–≤–∞–∫–∞–Ω—Å–∏–∏) - –≤–Ω–µ—à–Ω—è—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
- `Grade` –º–æ–¥–µ–ª—å (—Ñ–∏–Ω–∞–Ω—Å—ã)

### üîó **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Å –¥—Ä—É–≥–∏–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏**

#### 3.1 **apps.vacancies (–ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ó–ê–í–ò–°–ò–ú–û–°–¢–¨)**
**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- `Vacancy` –º–æ–¥–µ–ª—å - –¥–ª—è —Å–≤—è–∑–∏ –∑–∞—Ä–ø–ª–∞—Ç–Ω—ã—Ö –≤–∏–ª–æ–∫ —Å –≤–∞–∫–∞–Ω—Å–∏—è–º–∏
- ForeignKey –≤ `SalaryRange.vacancy`
- ForeignKey –≤ `Benchmark.vacancy`

**–§–∞–π–ª—ã —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏:**
- `models.py` - ForeignKey —Å–≤—è–∑–∏
- `logic/salary_service.py` - –∏–º–ø–æ—Ä—Ç Vacancy
- `tasks.py` - —Ä–∞–±–æ—Ç–∞ —Å –≤–∞–∫–∞–Ω—Å–∏—è–º–∏
- `views.py` - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–π

**–¢–∏–ø —Å–≤—è–∑–∏:**
- **–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** Finance ‚Üí Vacancies
- **–¢–∏–ø:** ForeignKey (–º–Ω–æ–≥–∏–µ –∫ –æ–¥–Ω–æ–º—É)
- **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** –í—ã—Å–æ–∫–∞—è (–±–µ–∑ Vacancies Finance –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)

#### 3.2 **apps.interviewers (–ó–ê–í–ò–°–ò–ú–û–°–¢–¨)**
**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- `Grade` –º–æ–¥–µ–ª—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `InterviewRule`

**–¢–∏–ø —Å–≤—è–∑–∏:**
- **–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** Interviewers ‚Üí Finance
- **–¢–∏–ø:** ForeignKey –Ω–∞ Grade
- **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** –°—Ä–µ–¥–Ω—è—è

#### 3.3 **apps.google_oauth (–ó–ê–í–ò–°–ò–ú–û–°–¢–¨)**
**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- `Grade` –∏ `CurrencyRate` –º–æ–¥–µ–ª–∏

**–¢–∏–ø —Å–≤—è–∑–∏:**
- **–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** Google OAuth ‚Üí Finance
- **–¢–∏–ø:** ForeignKey –Ω–∞ Grade –∏ CurrencyRate
- **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** –ù–∏–∑–∫–∞—è

#### 3.4 **apps.huntflow (–ó–ê–í–ò–°–ò–ú–û–°–¢–¨)**
**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- `Grade` –∏ `CurrencyRate` –º–æ–¥–µ–ª–∏

**–¢–∏–ø —Å–≤—è–∑–∏:**
- **–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** Huntflow ‚Üí Finance
- **–¢–∏–ø:** ForeignKey –Ω–∞ Grade –∏ CurrencyRate
- **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** –ù–∏–∑–∫–∞—è

---

## üîÑ **–í–ó–ê–ò–ú–û–î–ï–ô–°–¢–í–ò–ï –°–ï–†–í–ò–°–û–í**

### –°—Ö–µ–º–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:
```
SalaryService
    ‚îú‚îÄ‚îÄ TaxService (–¥–ª—è PLN —Ä–∞—Å—á–µ—Ç–æ–≤)
    ‚îú‚îÄ‚îÄ CurrencyService (–¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –≤–∞–ª—é—Ç)
    ‚îú‚îÄ‚îÄ Vacancy (–≤–Ω–µ—à–Ω—è—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å)
    ‚îî‚îÄ‚îÄ Grade (–≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –º–æ–¥–µ–ª—å)

TaxService
    ‚îú‚îÄ‚îÄ PLNTax (–≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –º–æ–¥–µ–ª—å)
    ‚îî‚îÄ‚îÄ CurrencyService (–¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏)

CurrencyService
    ‚îú‚îÄ‚îÄ CurrencyRate (–≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –º–æ–¥–µ–ª—å)
    ‚îî‚îÄ‚îÄ –í–Ω–µ—à–Ω–∏–µ API (–ù–ë–†–ë)
```

### –ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ä–∞—Å—á–µ—Ç–æ–≤:
1. **CurrencyService** - –ø–æ–ª—É—á–µ–Ω–∏–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –∫—É—Ä—Å–æ–≤
2. **TaxService** - —Ä–∞—Å—á–µ—Ç –Ω–∞–ª–æ–≥–æ–≤—ã—Ö —Å—Ç–∞–≤–æ–∫
3. **SalaryService** - –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ —Ä–∞—Å—á–µ—Ç—ã –∑–∞—Ä–ø–ª–∞—Ç

---

## üìä **–ú–û–î–ï–õ–ò –ò –ò–• –†–û–õ–¨**

### –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –º–æ–¥–µ–ª–∏ Finance:
- **`Grade`** - –≥—Ä–µ–π–¥—ã —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
- **`CurrencyRate`** - –∫—É—Ä—Å—ã –≤–∞–ª—é—Ç
- **`PLNTax`** - –Ω–∞–ª–æ–≥–æ–≤—ã–µ —Å—Ç–∞–≤–∫–∏ PLN
- **`SalaryRange`** - –∑–∞—Ä–ø–ª–∞—Ç–Ω—ã–µ –≤–∏–ª–∫–∏
- **`Benchmark`** - –±–µ–Ω—á–º–∞—Ä–∫–∏ –∑–∞—Ä–ø–ª–∞—Ç
- **`BenchmarkSettings`** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–µ–Ω—á–º–∞—Ä–∫–æ–≤

### –í–Ω–µ—à–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
- **`Vacancy`** (apps.vacancies) - –≤–∞–∫–∞–Ω—Å–∏–∏
- **`InterviewRule`** (apps.interviewers) - –ø—Ä–∞–≤–∏–ª–∞ –∏–Ω—Ç–µ—Ä–≤—å—é
- **`GoogleOAuthAccount`** (apps.google_oauth) - OAuth –∞–∫–∫–∞—É–Ω—Ç—ã
- **`HuntflowCache`** (apps.huntflow) - –∫—ç—à Huntflow

---

## ‚ö†Ô∏è **–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ó–ê–í–ò–°–ò–ú–û–°–¢–ò**

### 1. **apps.vacancies - –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø**
- **–ü—Ä–∏—á–∏–Ω–∞:** SalaryRange –∏ Benchmark –∏–º–µ—é—Ç ForeignKey –Ω–∞ Vacancy
- **–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:** –ë–µ–∑ Vacancies –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞—Ä–ø–ª–∞—Ç–Ω—ã–µ –≤–∏–ª–∫–∏
- **–†–µ—à–µ–Ω–∏–µ:** –û–±–µ—Å–ø–µ—á–∏—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –º–æ–¥–µ–ª–∏ Vacancy

### 2. **–í–Ω–µ—à–Ω–∏–µ API –ù–ë–†–ë**
- **–ü—Ä–∏—á–∏–Ω–∞:** CurrencyService –∑–∞–≤–∏—Å–∏—Ç –æ—Ç API –ù–ë–†–ë
- **–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:** –ü—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ API –∫—É—Ä—Å—ã –Ω–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è
- **–†–µ—à–µ–Ω–∏–µ:** Fallback –∫—É—Ä—Å—ã –∏ retry –ª–æ–≥–∏–∫–∞

### 3. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**
- **–ü—Ä–∏—á–∏–Ω–∞:** –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Å –ë–î
- **–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:** –ü—Ä–æ–±–ª–µ–º—ã —Å –ë–î –ª–æ–º–∞—é—Ç –≤—Å–µ —Ä–∞—Å—á–µ—Ç—ã
- **–†–µ—à–µ–Ω–∏–µ:** –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

---

## üéØ **–ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï**

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:
- ‚úÖ **–ï–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã** - –∫–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Å–≤–æ—é –æ–±–ª–∞—Å—Ç—å
- ‚úÖ **–°–ª–∞–±–∞—è —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å** - —Å–µ—Ä–≤–∏—Å—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—Ç —á–µ—Ä–µ–∑ —á–µ—Ç–∫–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
- ‚úÖ **–í—ã—Å–æ–∫–∞—è –∫–æ–≥–µ–∑–∏—è** - –∫–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–≤—è–∑–∞–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** - –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∏–º–µ—é—Ç fallback –º–µ—Ö–∞–Ω–∏–∑–º—ã

### –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É:
- ‚úÖ **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å** - –≤—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—á—Ç–µ–Ω—ã
- ‚úÖ **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - —Å–µ—Ä–≤–∏—Å—ã –º–æ–∂–Ω–æ —Ä–∞–∑–≤–∏–≤–∞—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ
- ‚úÖ **–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å** - –∫–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å –º–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ
- ‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å** - –≤—Å—è –ª–æ–≥–∏–∫–∞ –æ–ø–∏—Å–∞–Ω–∞ –∏ –ø–æ–Ω—è—Ç–Ω–∞

**–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Finance –∏–º–µ–µ—Ç –æ—Ç–ª–∏—á–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É —Å —á–µ—Ç–∫–∏–º —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏!** üéâ

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2024-01-20  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ê–∫—Ç—É–∞–ª—å–Ω–æ**  
**–í–µ—Ä—Å–∏—è:** 1.0.0
