{
  "openapi": "3.0.0",
  "info": {
    "title": "Finance App API",
    "description": "Полная спецификация API для приложения finance",
    "version": "1.0.0",
    "contact": {
      "name": "HR Helper Team"
    }
  },
  "servers": [
    {
      "url": "http://localhost:8000",
      "description": "Development server"
    }
  ],
  "paths": {
    "/api/v1/finance/grades/": {
      "get": {
        "summary": "Список грейдов",
        "tags": ["Grades"],
        "security": [{"SessionAuth": []}],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "schema": {"type": "integer", "default": 1}
          }
        ],
        "responses": {
          "200": {
            "description": "Список грейдов",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "count": {"type": "integer"},
                    "next": {"type": "string", "nullable": true},
                    "previous": {"type": "string", "nullable": true},
                    "results": {
                      "type": "array",
                      "items": {"$ref": "#/components/schemas/Grade"}
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Создание грейда",
        "tags": ["Grades"],
        "security": [{"SessionAuth": []}],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["name"],
                "properties": {
                  "name": {"type": "string", "maxLength": 64}
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Грейд создан",
            "content": {
              "application/json": {
                "schema": {"$ref": "#/components/schemas/Grade"}
              }
            }
          }
        }
      }
    },
    "/api/v1/finance/grades/{id}/": {
      "get": {
        "summary": "Получение грейда",
        "tags": ["Grades"],
        "security": [{"SessionAuth": []}],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {"type": "integer"}
          }
        ],
        "responses": {
          "200": {
            "description": "Данные грейда",
            "content": {
              "application/json": {
                "schema": {"$ref": "#/components/schemas/Grade"}
              }
            }
          }
        }
      },
      "put": {
        "summary": "Обновление грейда",
        "tags": ["Grades"],
        "security": [{"SessionAuth": []}],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {"type": "integer"}
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {"type": "string", "maxLength": 64}
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Грейд обновлен",
            "content": {
              "application/json": {
                "schema": {"$ref": "#/components/schemas/Grade"}
              }
            }
          }
        }
      },
      "delete": {
        "summary": "Удаление грейда",
        "tags": ["Grades"],
        "security": [{"SessionAuth": []}],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {"type": "integer"}
          }
        ],
        "responses": {
          "204": {
            "description": "Грейд удален"
          }
        }
      }
    },
    "/api/v1/finance/grades/stats/": {
      "get": {
        "summary": "Статистика по грейдам",
        "tags": ["Grades"],
        "security": [{"SessionAuth": []}],
        "responses": {
          "200": {
            "description": "Статистика по грейдам",
            "content": {
              "application/json": {
                "schema": {"$ref": "#/components/schemas/GradeStats"}
              }
            }
          }
        }
      }
    },
    "/api/v1/finance/currency-rates/": {
      "get": {
        "summary": "Список курсов валют",
        "tags": ["Currency Rates"],
        "security": [{"SessionAuth": []}],
        "responses": {
          "200": {
            "description": "Список курсов валют",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "count": {"type": "integer"},
                    "next": {"type": "string", "nullable": true},
                    "previous": {"type": "string", "nullable": true},
                    "results": {
                      "type": "array",
                      "items": {"$ref": "#/components/schemas/CurrencyRate"}
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Создание курса валюты",
        "tags": ["Currency Rates"],
        "security": [{"SessionAuth": []}],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["code", "rate"],
                "properties": {
                  "code": {"type": "string", "enum": ["USD", "PLN", "BYN", "EUR"]},
                  "rate": {"type": "number", "format": "decimal"},
                  "scale": {"type": "integer", "default": 1}
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Курс валюты создан",
            "content": {
              "application/json": {
                "schema": {"$ref": "#/components/schemas/CurrencyRate"}
              }
            }
          }
        }
      }
    },
    "/api/v1/finance/currency-rates/update/": {
      "post": {
        "summary": "Обновление курсов валют",
        "tags": ["Currency Rates"],
        "security": [{"SessionAuth": []}],
        "responses": {
          "200": {
            "description": "Курсы валют обновлены",
            "content": {
              "application/json": {
                "schema": {"$ref": "#/components/schemas/CurrencyUpdateResult"}
              }
            }
          }
        }
      }
    },
    "/api/v1/finance/currency-rates/convert/": {
      "post": {
        "summary": "Конвертация валют",
        "tags": ["Currency Rates"],
        "security": [{"SessionAuth": []}],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["amount", "from_currency", "to_currency"],
                "properties": {
                  "amount": {"type": "number", "format": "decimal"},
                  "from_currency": {"type": "string", "enum": ["USD", "PLN", "BYN", "EUR"]},
                  "to_currency": {"type": "string", "enum": ["USD", "PLN", "BYN", "EUR"]}
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Конвертация выполнена",
            "content": {
              "application/json": {
                "schema": {"$ref": "#/components/schemas/CurrencyConversionResult"}
              }
            }
          }
        }
      }
    },
    "/api/v1/finance/pln-taxes/": {
      "get": {
        "summary": "Список налогов PLN",
        "tags": ["PLN Taxes"],
        "security": [{"SessionAuth": []}],
        "responses": {
          "200": {
            "description": "Список налогов PLN",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "count": {"type": "integer"},
                    "next": {"type": "string", "nullable": true},
                    "previous": {"type": "string", "nullable": true},
                    "results": {
                      "type": "array",
                      "items": {"$ref": "#/components/schemas/PLNTax"}
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Создание налога PLN",
        "tags": ["PLN Taxes"],
        "security": [{"SessionAuth": []}],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["name", "rate"],
                "properties": {
                  "name": {"type": "string", "maxLength": 100},
                  "rate": {"type": "number", "format": "decimal", "minimum": 0, "maximum": 100},
                  "is_active": {"type": "boolean", "default": true}
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Налог PLN создан",
            "content": {
              "application/json": {
                "schema": {"$ref": "#/components/schemas/PLNTax"}
              }
            }
          }
        }
      }
    },
    "/api/v1/finance/pln-taxes/calculate/": {
      "post": {
        "summary": "Расчет налогов PLN",
        "tags": ["PLN Taxes"],
        "security": [{"SessionAuth": []}],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["gross_amount"],
                "properties": {
                  "gross_amount": {"type": "number", "format": "decimal"},
                  "currency": {"type": "string", "enum": ["PLN"], "default": "PLN"}
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Расчет налогов выполнен",
            "content": {
              "application/json": {
                "schema": {"$ref": "#/components/schemas/TaxCalculationResult"}
              }
            }
          }
        }
      }
    },
    "/api/v1/finance/pln-taxes/summary/": {
      "get": {
        "summary": "Сводка по налогам",
        "tags": ["PLN Taxes"],
        "security": [{"SessionAuth": []}],
        "responses": {
          "200": {
            "description": "Сводка по налогам",
            "content": {
              "application/json": {
                "schema": {"$ref": "#/components/schemas/TaxSummary"}
              }
            }
          }
        }
      }
    },
    "/api/v1/finance/salary-ranges/": {
      "get": {
        "summary": "Список зарплатных вилок",
        "tags": ["Salary Ranges"],
        "security": [{"SessionAuth": []}],
        "parameters": [
          {
            "name": "vacancy",
            "in": "query",
            "schema": {"type": "integer"}
          },
          {
            "name": "grade",
            "in": "query",
            "schema": {"type": "integer"}
          }
        ],
        "responses": {
          "200": {
            "description": "Список зарплатных вилок",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "count": {"type": "integer"},
                    "next": {"type": "string", "nullable": true},
                    "previous": {"type": "string", "nullable": true},
                    "results": {
                      "type": "array",
                      "items": {"$ref": "#/components/schemas/SalaryRange"}
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Создание зарплатной вилки",
        "tags": ["Salary Ranges"],
        "security": [{"SessionAuth": []}],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["vacancy", "grade", "salary_min_usd", "salary_max_usd"],
                "properties": {
                  "vacancy": {"type": "integer"},
                  "grade": {"type": "integer"},
                  "salary_min_usd": {"type": "number", "format": "decimal"},
                  "salary_max_usd": {"type": "number", "format": "decimal"},
                  "is_active": {"type": "boolean", "default": true}
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Зарплатная вилка создана",
            "content": {
              "application/json": {
                "schema": {"$ref": "#/components/schemas/SalaryRange"}
              }
            }
          }
        }
      }
    },
    "/api/v1/finance/salary-ranges/stats/": {
      "get": {
        "summary": "Статистика по зарплатным вилкам",
        "tags": ["Salary Ranges"],
        "security": [{"SessionAuth": []}],
        "responses": {
          "200": {
            "description": "Статистика по зарплатным вилкам",
            "content": {
              "application/json": {
                "schema": {"$ref": "#/components/schemas/SalaryRangeStats"}
              }
            }
          }
        }
      }
    },
    "/api/v1/finance/salary-ranges/update-currency/": {
      "post": {
        "summary": "Обновление валютных сумм",
        "tags": ["Salary Ranges"],
        "security": [{"SessionAuth": []}],
        "responses": {
          "200": {
            "description": "Валютные суммы обновлены",
            "content": {
              "application/json": {
                "schema": {"$ref": "#/components/schemas/CurrencyUpdateResult"}
              }
            }
          }
        }
      }
    },
    "/api/v1/finance/benchmarks/": {
      "get": {
        "summary": "Список бенчмарков",
        "tags": ["Benchmarks"],
        "security": [{"SessionAuth": []}],
        "parameters": [
          {
            "name": "type",
            "in": "query",
            "schema": {"type": "string", "enum": ["vacancy", "candidate"]}
          },
          {
            "name": "grade",
            "in": "query",
            "schema": {"type": "integer"}
          },
          {
            "name": "domain",
            "in": "query",
            "schema": {"type": "string"}
          }
        ],
        "responses": {
          "200": {
            "description": "Список бенчмарков",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "count": {"type": "integer"},
                    "next": {"type": "string", "nullable": true},
                    "previous": {"type": "string", "nullable": true},
                    "results": {
                      "type": "array",
                      "items": {"$ref": "#/components/schemas/Benchmark"}
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Создание бенчмарка",
        "tags": ["Benchmarks"],
        "security": [{"SessionAuth": []}],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["type", "vacancy", "grade", "salary_from", "location"],
                "properties": {
                  "type": {"type": "string", "enum": ["vacancy", "candidate"]},
                  "vacancy": {"type": "integer"},
                  "grade": {"type": "integer"},
                  "salary_from": {"type": "number", "format": "decimal"},
                  "salary_to": {"type": "number", "format": "decimal"},
                  "location": {"type": "string", "maxLength": 200},
                  "work_format": {"type": "string", "enum": ["office", "hybrid", "remote", "all_world"]},
                  "domain": {"type": "string"},
                  "technologies": {"type": "string"},
                  "benefits": {"type": "string"},
                  "compensation": {"type": "string"},
                  "development": {"type": "string"},
                  "notes": {"type": "string"}
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Бенчмарк создан",
            "content": {
              "application/json": {
                "schema": {"$ref": "#/components/schemas/Benchmark"}
              }
            }
          }
        }
      }
    },
    "/api/v1/finance/benchmarks/stats/": {
      "get": {
        "summary": "Статистика по бенчмаркам",
        "tags": ["Benchmarks"],
        "security": [{"SessionAuth": []}],
        "responses": {
          "200": {
            "description": "Статистика по бенчмаркам",
            "content": {
              "application/json": {
                "schema": {"$ref": "#/components/schemas/BenchmarkStats"}
              }
            }
          }
        }
      }
    },
    "/api/v1/finance/benchmarks/market-analysis/": {
      "post": {
        "summary": "Анализ рынка",
        "tags": ["Benchmarks"],
        "security": [{"SessionAuth": []}],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "grade": {"type": "integer"},
                  "domain": {"type": "string"},
                  "work_format": {"type": "string", "enum": ["office", "hybrid", "remote", "all_world"]}
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Анализ рынка выполнен",
            "content": {
              "application/json": {
                "schema": {"$ref": "#/components/schemas/MarketAnalysisResult"}
              }
            }
          }
        }
      }
    },
    "/api/v1/finance/benchmark-settings/": {
      "get": {
        "summary": "Получение настроек бенчмарков",
        "tags": ["Benchmark Settings"],
        "security": [{"SessionAuth": []}],
        "responses": {
          "200": {
            "description": "Настройки бенчмарков",
            "content": {
              "application/json": {
                "schema": {"$ref": "#/components/schemas/BenchmarkSettings"}
              }
            }
          }
        }
      },
      "put": {
        "summary": "Обновление настроек бенчмарков",
        "tags": ["Benchmark Settings"],
        "security": [{"SessionAuth": []}],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "average_calculation_period_days": {"type": "integer"},
                  "belarus_tax_rate": {"type": "number", "format": "decimal"},
                  "max_daily_tasks": {"type": "integer"},
                  "hh_channel_active": {"type": "boolean"},
                  "max_daily_hh_tasks": {"type": "integer"}
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Настройки обновлены",
            "content": {
              "application/json": {
                "schema": {"$ref": "#/components/schemas/BenchmarkSettings"}
              }
            }
          }
        }
      }
    },
    "/finance/api/calculate-pln-taxes/": {
      "post": {
        "summary": "Расчет налогов PLN (JSON API)",
        "tags": ["JSON API"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["gross_amount"],
                "properties": {
                  "gross_amount": {"type": "number", "format": "decimal"},
                  "currency": {"type": "string", "enum": ["PLN"], "default": "PLN"}
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Расчет налогов выполнен",
            "content": {
              "application/json": {
                "schema": {"$ref": "#/components/schemas/TaxCalculationResult"}
              }
            }
          }
        }
      }
    },
    "/finance/api/convert-currency/": {
      "post": {
        "summary": "Конвертация валют (JSON API)",
        "tags": ["JSON API"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["amount", "from_currency", "to_currency"],
                "properties": {
                  "amount": {"type": "number", "format": "decimal"},
                  "from_currency": {"type": "string", "enum": ["USD", "PLN", "BYN", "EUR"]},
                  "to_currency": {"type": "string", "enum": ["USD", "PLN", "BYN", "EUR"]}
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Конвертация выполнена",
            "content": {
              "application/json": {
                "schema": {"$ref": "#/components/schemas/CurrencyConversionResult"}
              }
            }
          }
        }
      }
    },
    "/finance/api/calculate-salary/": {
      "post": {
        "summary": "Расчет зарплаты с налогами (JSON API)",
        "tags": ["JSON API"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["net_amount", "currency_from", "currency_to"],
                "properties": {
                  "net_amount": {"type": "number", "format": "decimal"},
                  "currency_from": {"type": "string", "enum": ["USD", "PLN", "BYN", "EUR"]},
                  "currency_to": {"type": "string", "enum": ["USD", "PLN", "BYN", "EUR"]}
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Расчет зарплаты выполнен",
            "content": {
              "application/json": {
                "schema": {"$ref": "#/components/schemas/SalaryCalculationResult"}
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "securitySchemes": {
      "SessionAuth": {
        "type": "apiKey",
        "in": "cookie",
        "name": "sessionid"
      }
    },
    "schemas": {
      "Grade": {
        "type": "object",
        "properties": {
          "id": {"type": "integer", "readOnly": true},
          "name": {"type": "string", "maxLength": 64}
        },
        "required": ["name"]
      },
      "GradeStats": {
        "type": "object",
        "properties": {
          "total_grades": {"type": "integer"},
          "grades_stats": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": {"type": "integer"},
                "name": {"type": "string"},
                "vacancies_count": {"type": "integer"},
                "salary_ranges_count": {"type": "integer"},
                "benchmarks_count": {"type": "integer"}
              }
            }
          }
        }
      },
      "CurrencyRate": {
        "type": "object",
        "properties": {
          "id": {"type": "integer", "readOnly": true},
          "code": {"type": "string", "enum": ["USD", "PLN", "BYN", "EUR"]},
          "rate": {"type": "number", "format": "decimal"},
          "scale": {"type": "integer", "default": 1},
          "fetched_at": {"type": "string", "format": "date-time", "readOnly": true}
        },
        "required": ["code", "rate"]
      },
      "CurrencyUpdateResult": {
        "type": "object",
        "properties": {
          "success": {"type": "boolean"},
          "message": {"type": "string"},
          "updated_rates": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "code": {"type": "string"},
                "rate": {"type": "number", "format": "decimal"},
                "fetched_at": {"type": "string", "format": "date-time"}
              }
            }
          }
        }
      },
      "CurrencyConversionResult": {
        "type": "object",
        "properties": {
          "success": {"type": "boolean"},
          "original_amount": {"type": "number", "format": "decimal"},
          "converted_amount": {"type": "number", "format": "decimal"},
          "from_currency": {"type": "string"},
          "to_currency": {"type": "string"},
          "rate": {"type": "number", "format": "decimal"},
          "conversion_date": {"type": "string", "format": "date-time"}
        }
      },
      "PLNTax": {
        "type": "object",
        "properties": {
          "id": {"type": "integer", "readOnly": true},
          "name": {"type": "string", "maxLength": 100},
          "rate": {"type": "number", "format": "decimal", "minimum": 0, "maximum": 100},
          "is_active": {"type": "boolean", "default": true}
        },
        "required": ["name", "rate"]
      },
      "TaxCalculationResult": {
        "type": "object",
        "properties": {
          "success": {"type": "boolean"},
          "gross_amount": {"type": "number", "format": "decimal"},
          "net_amount": {"type": "number", "format": "decimal"},
          "total_tax_amount": {"type": "number", "format": "decimal"},
          "total_tax_rate": {"type": "number", "format": "decimal"},
          "currency": {"type": "string"},
          "tax_breakdown": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "name": {"type": "string"},
                "rate": {"type": "number", "format": "decimal"},
                "amount": {"type": "number", "format": "decimal"}
              }
            }
          }
        }
      },
      "TaxSummary": {
        "type": "object",
        "properties": {
          "active_taxes_count": {"type": "integer"},
          "inactive_taxes_count": {"type": "integer"},
          "total_tax_rate": {"type": "number", "format": "decimal"},
          "taxes": {
            "type": "array",
            "items": {"$ref": "#/components/schemas/PLNTax"}
          }
        }
      },
      "SalaryRange": {
        "type": "object",
        "properties": {
          "id": {"type": "integer", "readOnly": true},
          "vacancy": {
            "type": "object",
            "properties": {
              "id": {"type": "integer"},
              "title": {"type": "string"},
              "company": {"type": "string"}
            }
          },
          "grade": {"$ref": "#/components/schemas/Grade"},
          "salary_min_usd": {"type": "number", "format": "decimal"},
          "salary_max_usd": {"type": "number", "format": "decimal"},
          "salary_min_byn": {"type": "number", "format": "decimal", "nullable": true},
          "salary_max_byn": {"type": "number", "format": "decimal", "nullable": true},
          "salary_min_pln": {"type": "number", "format": "decimal", "nullable": true},
          "salary_max_pln": {"type": "number", "format": "decimal", "nullable": true},
          "is_active": {"type": "boolean", "default": true},
          "created_at": {"type": "string", "format": "date-time", "readOnly": true},
          "updated_at": {"type": "string", "format": "date-time", "readOnly": true}
        },
        "required": ["vacancy", "grade", "salary_min_usd", "salary_max_usd"]
      },
      "SalaryRangeStats": {
        "type": "object",
        "properties": {
          "total_ranges": {"type": "integer"},
          "active_ranges": {"type": "integer"},
          "inactive_ranges": {"type": "integer"},
          "average_salary_usd": {"type": "number", "format": "decimal"},
          "min_salary_usd": {"type": "number", "format": "decimal"},
          "max_salary_usd": {"type": "number", "format": "decimal"},
          "ranges_by_grade": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "grade": {"type": "string"},
                "count": {"type": "integer"},
                "avg_min": {"type": "number", "format": "decimal"},
                "avg_max": {"type": "number", "format": "decimal"}
              }
            }
          }
        }
      },
      "Benchmark": {
        "type": "object",
        "properties": {
          "id": {"type": "integer", "readOnly": true},
          "type": {"type": "string", "enum": ["vacancy", "candidate"]},
          "vacancy": {
            "type": "object",
            "properties": {
              "id": {"type": "integer"},
              "title": {"type": "string"},
              "company": {"type": "string"}
            }
          },
          "grade": {"$ref": "#/components/schemas/Grade"},
          "salary_from": {"type": "number", "format": "decimal"},
          "salary_to": {"type": "number", "format": "decimal", "nullable": true},
          "location": {"type": "string", "maxLength": 200},
          "work_format": {"type": "string", "enum": ["office", "hybrid", "remote", "all_world"]},
          "domain": {"type": "string"},
          "technologies": {"type": "string"},
          "benefits": {"type": "string"},
          "compensation": {"type": "string"},
          "development": {"type": "string"},
          "notes": {"type": "string"},
          "date_added": {"type": "string", "format": "date-time", "readOnly": true}
        },
        "required": ["type", "vacancy", "grade", "salary_from", "location"]
      },
      "BenchmarkStats": {
        "type": "object",
        "properties": {
          "total_benchmarks": {"type": "integer"},
          "vacancy_benchmarks": {"type": "integer"},
          "candidate_benchmarks": {"type": "integer"},
          "average_salary": {"type": "number", "format": "decimal"},
          "salary_by_grade": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "grade": {"type": "string"},
                "count": {"type": "integer"},
                "avg_salary": {"type": "number", "format": "decimal"}
              }
            }
          },
          "salary_by_domain": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "domain": {"type": "string"},
                "count": {"type": "integer"},
                "avg_salary": {"type": "number", "format": "decimal"}
              }
            }
          }
        }
      },
      "MarketAnalysisResult": {
        "type": "object",
        "properties": {
          "success": {"type": "boolean"},
          "analysis": {
            "type": "object",
            "properties": {
              "sample_size": {"type": "integer"},
              "average_salary": {"type": "number", "format": "decimal"},
              "median_salary": {"type": "number", "format": "decimal"},
              "min_salary": {"type": "number", "format": "decimal"},
              "max_salary": {"type": "number", "format": "decimal"},
              "salary_range": {
                "type": "object",
                "properties": {
                  "25th_percentile": {"type": "number", "format": "decimal"},
                  "75th_percentile": {"type": "number", "format": "decimal"}
                }
              },
              "popular_technologies": {
                "type": "array",
                "items": {"type": "string"}
              },
              "common_benefits": {
                "type": "array",
                "items": {"type": "string"}
              }
            }
          }
        }
      },
      "BenchmarkSettings": {
        "type": "object",
        "properties": {
          "id": {"type": "integer", "readOnly": true},
          "average_calculation_period_days": {"type": "integer", "default": 90},
          "belarus_tax_rate": {"type": "number", "format": "decimal", "default": 13.00},
          "ai_analysis_prompt": {"type": "string"},
          "data_sources": {
            "type": "array",
            "items": {"type": "string"}
          },
          "max_daily_tasks": {"type": "integer", "default": 100},
          "vacancy_fields": {
            "type": "array",
            "items": {"type": "string"}
          },
          "hh_channel_active": {"type": "boolean", "default": true},
          "max_daily_hh_tasks": {"type": "integer", "default": 100},
          "hh_ai_prompt": {"type": "string"}
        }
      },
      "SalaryCalculationResult": {
        "type": "object",
        "properties": {
          "success": {"type": "boolean"},
          "original": {
            "type": "object",
            "properties": {
              "amount": {"type": "number", "format": "decimal"},
              "currency": {"type": "string"}
            }
          },
          "converted": {
            "type": "object",
            "properties": {
              "amount": {"type": "number", "format": "decimal"},
              "currency": {"type": "string"}
            }
          },
          "tax_calculation": {
            "type": "object",
            "properties": {
              "gross_amount": {"type": "number", "format": "decimal"},
              "net_amount": {"type": "number", "format": "decimal"},
              "total_tax_amount": {"type": "number", "format": "decimal"},
              "total_tax_rate": {"type": "number", "format": "decimal"}
            }
          }
        }
      },
      "ValidationError": {
        "type": "object",
        "properties": {
          "field_name": {
            "type": "array",
            "items": {"type": "string"}
          }
        }
      }
    }
  },
  "tags": [
    {
      "name": "Grades",
      "description": "Управление грейдами"
    },
    {
      "name": "Currency Rates",
      "description": "Управление курсами валют"
    },
    {
      "name": "PLN Taxes",
      "description": "Управление налогами PLN"
    },
    {
      "name": "Salary Ranges",
      "description": "Управление зарплатными вилками"
    },
    {
      "name": "Benchmarks",
      "description": "Управление бенчмарками зарплат"
    },
    {
      "name": "Benchmark Settings",
      "description": "Настройки бенчмарков"
    },
    {
      "name": "JSON API",
      "description": "JSON API для расчетов и конвертаций"
    }
  ]
}
