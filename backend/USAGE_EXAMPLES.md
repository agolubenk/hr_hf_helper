# üìñ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è HR Helper

## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
cd backend
./start_services.sh
```

### –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫
```bash
# –¢–µ—Ä–º–∏–Ω–∞–ª 1 - Redis
brew services start redis

# –¢–µ—Ä–º–∏–Ω–∞–ª 2 - Celery
cd backend && source venv/bin/activate
PYTHONPATH=$(pwd) celery -A hrhelper worker --loglevel=info

# –¢–µ—Ä–º–∏–Ω–∞–ª 3 - Django
cd backend && source venv/bin/activate
python manage.py runserver 8000
```

## üìã –ú–∞—Å—Å–æ–≤—ã–π –∏–º–ø–æ—Ä—Ç ClickUp ‚Üí Huntflow

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ ClickUp
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –Ω–∞—Å—Ç—Ä–æ–µ–∫ ClickUp
2. –í–≤–µ–¥–∏—Ç–µ –≤–∞—à API –∫–ª—é—á ClickUp
3. –í—ã–±–µ—Ä–∏—Ç–µ Team ID, Space ID –∏ List ID
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### 2. –ó–∞–ø—É—Å–∫ –º–∞—Å—Å–æ–≤–æ–≥–æ –∏–º–ø–æ—Ä—Ç–∞
1. –û—Ç–∫—Ä–æ–π—Ç–µ http://127.0.0.1:8000/clickup/bulk-import/
2. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–ó–∞–ø—É—Å—Ç–∏—Ç—å –º–∞—Å—Å–æ–≤—ã–π –∏–º–ø–æ—Ä—Ç"
3. –°–ª–µ–¥–∏—Ç–µ –∑–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ

### 3. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ—Ü–µ—Å—Å–∞
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
./check_services.sh

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ Celery
tail -f logs/celery.log

# –ü—Ä–æ—Å–º–æ—Ç—Ä –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–¥–∞—á
celery -A hrhelper inspect active
```

## üìÖ –†–∞–±–æ—Ç–∞ —Å Google Calendar

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ OAuth
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Google OAuth
2. –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å —á–µ—Ä–µ–∑ Google
3. –†–∞–∑—Ä–µ—à–∏—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –∫–∞–ª–µ–Ω–¥–∞—Ä—é

### 2. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏–π
1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∫–∞–ª–µ–Ω–¥–∞—Ä—è
2. –ù–∞–∂–º–∏—Ç–µ "–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å"
3. –°–æ–±—ã—Ç–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∑—è—Ç—Å—è

## üîç –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
```bash
./check_services.sh
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
```bash
# Django –ª–æ–≥–∏
tail -f logs/django.log

# Celery –ª–æ–≥–∏
tail -f logs/celery.log

# –í—Å–µ –ª–æ–≥–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
tail -f logs/*.log
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ Celery –∑–∞–¥–∞—á
```bash
# –ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏
celery -A hrhelper inspect active

# –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏
celery -A hrhelper inspect scheduled

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
celery -A hrhelper inspect stats
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
```bash
# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ SQLite
sqlite3 db.sqlite3

# –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–∞–±–ª–∏—Ü
.tables

# –ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–ø–∏—Å–µ–π –º–∞—Å—Å–æ–≤–æ–≥–æ –∏–º–ø–æ—Ä—Ç–∞
SELECT * FROM clickup_int_clickupbulkimport ORDER BY created_at DESC LIMIT 5;
```

## üõ†Ô∏è –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ

### –°–æ–∑–¥–∞–Ω–∏–µ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```bash
python manage.py createsuperuser
```

### –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
```bash
python manage.py makemigrations
python manage.py migrate
```

### –û—á–∏—Å—Ç–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
```bash
# –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –∑–∞–ø–∏—Å–µ–π –º–∞—Å—Å–æ–≤–æ–≥–æ –∏–º–ø–æ—Ä—Ç–∞
python manage.py shell
>>> from apps.clickup_int.models import ClickUpBulkImport
>>> ClickUpBulkImport.objects.filter(created_at__lt=timezone.now()-timedelta(days=30)).delete()
```

## üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–±–ª–µ–º–∞: Redis –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
```bash
# –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∑–∞–Ω—è—Ç –ª–∏ –ø–æ—Ä—Ç
lsof -i :6379

# –£–±–∏–≤–∞–µ–º –ø—Ä–æ—Ü–µ—Å—Å, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
sudo kill -9 <PID>

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º Redis
brew services restart redis  # macOS
sudo systemctl restart redis-server  # Linux
```

### –ü—Ä–æ–±–ª–µ–º–∞: Celery –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–¥–∞—á–∏
```bash
# –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Redis
redis-cli ping

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º Celery
pkill -f celery
./start_services.sh
```

### –ü—Ä–æ–±–ª–µ–º–∞: Django –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
```bash
# –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ—Ä—Ç
lsof -i :8000

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –º–∏–≥—Ä–∞—Ü–∏–∏
python manage.py migrate

# –ó–∞–ø—É—Å–∫–∞–µ–º –≤ —Ä–µ–∂–∏–º–µ –æ—Ç–ª–∞–¥–∫–∏
python manage.py runserver 8000 --verbosity=2
```

### –ü—Ä–æ–±–ª–µ–º–∞: "database is locked"
```bash
# –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
./stop_services.sh

# –ñ–¥–µ–º 5 —Å–µ–∫—É–Ω–¥
sleep 5

# –ó–∞–ø—É—Å–∫–∞–µ–º –∑–∞–Ω–æ–≤–æ
./start_services.sh
```

## üìä –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤
```bash
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CPU –∏ –ø–∞–º—è—Ç–∏
top -p $(pgrep -f "celery\|manage.py")

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞
du -sh db.sqlite3 logs/

# –°–µ—Ç–µ–≤—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
netstat -an | grep -E "(8000|6379)"
```

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
```bash
# –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –ª–æ–≥–æ–≤
find logs/ -name "*.log" -mtime +7 -delete

# –û—á–∏—Å—Ç–∫–∞ Celery –∑–∞–¥–∞—á
celery -A hrhelper purge

# –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
sqlite3 db.sqlite3 "VACUUM;"
```

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –†–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤
```bash
# –°–æ–∑–¥–∞–µ–º —Å–∫—Ä–∏–ø—Ç —Ä–æ—Ç–∞—Ü–∏–∏ –ª–æ–≥–æ–≤
cat > rotate_logs.sh << 'EOF'
#!/bin/bash
DATE=$(date +%Y%m%d)
mv logs/django.log logs/django.log.$DATE
mv logs/celery.log logs/celery.log.$DATE
touch logs/django.log logs/celery.log
chmod 644 logs/*.log
EOF

chmod +x rotate_logs.sh
```

### –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
# –°–æ–∑–¥–∞–µ–º –±—ç–∫–∞–ø –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
cp db.sqlite3 backups/db_$(date +%Y%m%d_%H%M%S).sqlite3

# –°–æ–∑–¥–∞–µ–º –±—ç–∫–∞–ø –ª–æ–≥–æ–≤
tar -czf backups/logs_$(date +%Y%m%d_%H%M%S).tar.gz logs/
```

## üìà –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö Celery Worker
```bash
# –ó–∞–ø—É—Å–∫ —Å –±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
celery -A hrhelper worker --loglevel=info --concurrency=10

# –ó–∞–ø—É—Å–∫ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –º–∞—à–∏–Ω–∞—Ö
celery -A hrhelper worker --loglevel=info --hostname=worker1@%h
celery -A hrhelper worker --loglevel=info --hostname=worker2@%h
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Redis –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
```bash
# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Redis –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
sudo nano /etc/redis/redis.conf

# –ò–∑–º–µ–Ω—è–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
# maxmemory 256mb
# maxmemory-policy allkeys-lru
# save 900 1
# save 300 10
# save 60 10000
```

## üéØ –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ë—ã—Å—Ç—Ä—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
```bash
# –°—Ç–∞—Ç—É—Å –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
./check_services.sh

# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–¥–∞—á
celery -A hrhelper inspect active | grep -c "celery@"

# –†–∞–∑–º–µ—Ä –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
ls -lh db.sqlite3

# –ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ—à–∏–±–∫–∏ –≤ –ª–æ–≥–∞—Ö
grep -i error logs/*.log | tail -10
```

### –û—á–∏—Å—Ç–∫–∞ —Å–∏—Å—Ç–µ–º—ã
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
./stop_services.sh

# –û—á–∏—Å—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
find . -name "*.pyc" -delete
find . -name "__pycache__" -type d -exec rm -rf {} +

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
./start_services.sh
```

---

## üí° –°–æ–≤–µ—Ç—ã –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

1. **–í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Å—Ç–∞—Ç—É—Å** –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç—ã: `./check_services.sh`
2. **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –ª–æ–≥–∏** –≤–æ –≤—Ä–µ–º—è –º–∞—Å—Å–æ–≤–æ–≥–æ –∏–º–ø–æ—Ä—Ç–∞: `tail -f logs/celery.log`
3. **–î–µ–ª–∞–π—Ç–µ –±—ç–∫–∞–ø—ã** –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ –≤–∞–∂–Ω—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏
4. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–∫—Ä–∏–ø—Ç—ã** –¥–ª—è –∑–∞–ø—É—Å–∫–∞/–æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–µ—Ä–≤–∏—Å–æ–≤
5. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ø–æ—Ä—Ç—ã** –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç: `lsof -i :8000 :6379`

–£–¥–∞—á–Ω–æ–π —Ä–∞–±–æ—Ç—ã! üöÄ


