# Обновления админки для модели Invite

## Описание изменений

Добавлена полная админка для модели `Invite` с отображением всех новых полей, включая интеграцию с Gemini AI.

## Новые поля в админке

### Исходные данные
- **`original_form_data`** - Весь текст, введенный пользователем в комбинированную форму

### Данные от Gemini AI
- **`gemini_invitation_text`** - Текст приглашения, сгенерированный Gemini AI
- **`gemini_suggested_datetime`** - Предложенное время интервью от Gemini AI
- **`gemini_meeting_link`** - Ссылка на Google Meet, предложенная Gemini AI
- **`gemini_additional_info`** - Дополнительная информация для кандидата от Gemini AI
- **`gemini_recruiter_notes`** - Заметки для рекрутера, сгенерированные Gemini AI

## Структура админки

### Список инвайтов (`list_display`)
- ID инвайта
- Имя кандидата
- Название вакансии
- Дата и время интервью
- Статус
- **Наличие данных Gemini** (✅ Есть / ❌ Нет)
- Дата создания

### Фильтры (`list_filter`)
- Статус
- Дата создания
- Дата обновления
- Дата интервью

### Поиск (`search_fields`)
- Имя кандидата
- Название вакансии
- ID кандидата
- ID вакансии
- Имя пользователя
- Email пользователя

### Группировка полей (`fieldsets`)

#### 1. Основная информация
- Пользователь
- Статус
- Ссылка на кандидата
- Дата и время интервью

#### 2. Информация о кандидате
- ID кандидата
- Имя кандидата
- Уровень кандидата

#### 3. Информация о вакансии
- ID вакансии
- Название вакансии
- Ссылка на шаблон scorecard

#### 4. Исходные данные
- **Исходные данные из формы** (новое поле)

#### 5. Данные от Gemini AI (сворачиваемая секция)
- **Текст приглашения от Gemini** (новое поле)
- **Предложенное время от Gemini** (новое поле)
- **Ссылка на встречу от Gemini** (новое поле)
- **Дополнительная информация от Gemini** (новое поле)
- **Заметки для рекрутера от Gemini** (новое поле)

#### 6. Google Drive (сворачиваемая секция)
- ID папки в Google Drive
- ID файла scorecard в Google Drive
- Ссылка на scorecard файл

#### 7. Google Calendar (сворачиваемая секция)
- ID события в Google Calendar
- Ссылка на событие в Google Calendar
- Ссылка на Google Meet

#### 8. Метаданные (сворачиваемая секция)
- Дата создания
- Дата обновления

## Особенности админки

### Поля только для чтения
При редактировании существующего инвайта следующие поля становятся только для чтения:
- Ссылка на кандидата
- ID кандидата
- Имя кандидата
- Уровень кандидата
- ID вакансии
- Название вакансии
- **Исходные данные из формы**

### Индикатор данных Gemini
В списке инвайтов отображается индикатор наличия данных от Gemini AI:
- ✅ **Есть** - если `gemini_invitation_text` заполнен
- ❌ **Нет** - если данные от Gemini отсутствуют

### Оптимизация запросов
- Используется `select_related('user')` для оптимизации запросов к базе данных

## Использование

1. **Просмотр инвайтов**: В списке видны все основные данные и статус интеграции с Gemini
2. **Фильтрация**: Можно фильтровать по статусу, датам и другим параметрам
3. **Поиск**: Быстрый поиск по имени кандидата, вакансии или ID
4. **Редактирование**: Можно редактировать данные Gemini AI и другие настройки
5. **Просмотр исходных данных**: Видно, что именно ввел пользователь в форму

## Миграции

Для работы новых полей выполните:

```bash
python manage.py makemigrations google_oauth
python manage.py migrate
```

## Примеры использования

### Просмотр данных Gemini
1. Откройте админку Django
2. Перейдите в раздел "Google OAuth" → "Инвайты"
3. Найдите инвайт с индикатором "✅ Есть" в колонке "Данные Gemini"
4. Откройте инвайт для редактирования
5. Разверните секцию "Данные от Gemini AI"

### Редактирование приглашения
1. В секции "Данные от Gemini AI" можно отредактировать:
   - Текст приглашения
   - Предложенное время
   - Ссылку на встречу
   - Дополнительную информацию
   - Заметки для рекрутера

### Просмотр исходных данных
1. В секции "Исходные данные" видно:
   - Весь текст, который ввел пользователь
   - Ссылку на кандидата
   - Относительные даты типа "завтра 15"

